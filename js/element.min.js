_.element={element:function(d,c,a){var g,e={},f=a;if(_.isString(d)){if(d.charAt(0)==="<"){g=document.createElement("div");g.innerHTML=d;g=g.firstElementChild}else{var b=/([.#][^.#]*)/g,h;g=document.createElement(d.split(/[#.]/)[0]);while(h=b.exec(d)){h=h[0];h.charAt(0)==="#"?g.id=h.substring(1):g.classList.add(h.substring(1))}}}else{g=d}if(_.isString(c)){g.innerHTML=c}else{if(!_.isArray(c)&&_.isObject(c)){e=c}else{if(_.isArray(c)){e.children=c}else{f=c}}}e&&_.each(e,function(j,i){if(j!==undefined){switch(i){case"classList":if(_.isString(j)){g.classList.add(j)}else{if(_.isArray(j)){_.each(j,function(k){g.classList.add(k)})}}break;case"css":_.css(g,j);break;case"children":if(_.isArray(j)){_.each(j,function(k){g.appendChild(k)})}else{g.appendChild(j)}break;default:if(i.substring(0,5)==="data-"){g.setAttribute(i,j)}else{g[i]=j}break}}});f&&f.appendChild(g);return g},bind:function(e,d,b,c){var a;if(e.addEventListener){e.addEventListener(d,b,c||false);a=function(){e.removeEventListener(d,b,c||false)}}else{e.attachEvent("on"+d,b);a=function(){e.detachEvent("on"+d,b)}}return{func:b,remove:a}},remove:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},classList:function(b){var a=this;return{add:function(c){b.classList.add(c);return a.classList(b)},remove:function(c){b.classList.remove(c);return a.classList(b)}}},bubble:function(b,c,a){var d;while(b!==null&&b!==document&&b!==a){if(d=c(b)){return d}b=b.parentNode}},onBubble:function(b,a){document.addEventListener(b,function(c){bubble(c.target,function(d){a(d,c.target)},document.documentElement)},false)}};