(function(){var d=function(){var g=0;return function(h){if(Object.prototype.toString.call(h)=="[object Function]"){d[g]={};h()}else{d[g]=h}++g}}(),b=function(g){g()},e=b;var f=arguments.callee;var a={album:{x:72,y:398,w:58,h:58},"arrow/mi01":{x:0,y:0,w:40,h:64},"arrow/mi04":{x:0,y:68,w:28,h:44},"author/create":{x:0,y:82,w:531,h:78},"author/create-active":{x:0,y:0,w:531,h:78},"author/follow":{x:0,y:164,w:172,h:50},"author/following":{x:176,y:164,w:172,h:50},comment:{x:312,y:150,w:42,h:42},"comment/close":{x:0,y:96,w:35,h:35},"comment/like":{x:0,y:0,w:52,h:44},"comment/liking":{x:0,y:48,w:52,h:44},"comment/reply":{x:0,y:136,w:22,h:20},"contact/frame":{x:0,y:0,w:470,h:90},"contact/title":{x:0,y:94,w:470,h:107},"edit-animate":{x:86,y:252,w:70,h:70},"image-not-found":{x:0,y:0,w:365,h:145},like:{x:158,y:340,w:38,h:34},"loading-c":{x:76,y:336,w:68,h:68},"loading-new-page":{x:160,y:296,w:40,h:40},"loading-o":{x:0,y:338,w:68,h:68},"map/back":{x:0,y:82,w:18,h:31},"map/location":{x:0,y:0,w:74,h:78},more:{x:0,y:410,w:34,h:6},music:{x:160,y:252,w:39,h:39},"mv/play":{x:0,y:0,w:168,h:174},"powered-by":{x:0,y:204,w:210,h:44},"razzies/banner-center":{x:0,y:152,w:20,h:72},"razzies/banner-left":{x:0,y:0,w:40,h:72},"razzies/banner-right":{x:0,y:76,w:40,h:72},"refresh-arrow":{x:264,y:150,w:44,h:44},"signup/close":{x:0,y:0,w:39,h:39},"signup/star":{x:0,y:44,w:9,h:9},"tips-click-first":{x:0,y:252,w:82,h:82},"tips-push":{x:158,y:388,w:34,h:34},"tips-push-first":{x:214,y:204,w:127,h:230},"tips-scratch":{x:0,y:150,w:260,h:50},"video/close":{x:0,y:136,w:50,h:50},"video/play":{x:0,y:0,w:132,h:132}};var c="*{padding:0;margin:0;outline:0;border:0;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:none;-webkit-touch-callout:none;-webkit-user-select:none}body{overflow:hidden}input,textarea{-webkit-user-select:text}.hidden,.hidden *{visibility:hidden !important}.lock,.lock *,.lock-children *{pointer-events:none !important}.scroll{overflow-y:scroll}.win32 .scroll{overflow-y:auto}.ios .scroll{-webkit-overflow-scrolling:touch}.ios .scroll>*{-webkit-transform:translateZ(0)}.msg-box{position:absolute;left:60px;right:60px;text-align:center;z-index:100000;visibility:hidden}.msg-box .msg{display:inline-block;opacity:0;font-size:12px;color:white;line-height:18px;padding:9px 15px;border-radius:5px;background-color:rgba(0,0,0,0.8);text-align:left}.msg-box.show{visibility:visible}.msg-box.show .msg{opacity:1}.msg-box.remove .msg{opacity:0;-webkit-transition:.15s}.tips{transition:.4s}.hide-tips .tips{-webkit-animation:none !important;transition:none;opacity:0}.hide-tips-fade .tips{-webkit-animation:none !important;opacity:0}.powered-by{-webkit-transition:.3s;-webkit-transform:translate3d(0,100%,0)}.last-page .powered-by{-webkit-transform:none}.last-page .tips.switch{-webkit-animation:none !important;opacity:0}.layout img{pointer-events:none}.win32 .layout img{pointer-events:auto}";d(function(){function g(n,m,l){var p,k,o;if(l){o=l;p=n;k=m}else{o=m;p=0;k=n}for(;p!==k;++p){o(p)}}function j(k){return new Function("return "+k)().apply(null,Array.prototype.slice.call(arguments,1))}function i(k,l){return k(l)}function h(k){k.apply(null,Array.prototype.slice.call(arguments,1));return k}d["0"].loop=g;d["0"].call=j;d["0"].callWith=i;d["0"].recursion=h});d(function(){var l=d["0"],p=l.loop;function o(y,x){return r(function(z){x===undefined?p(y,z):p(y,x,z)})}function k(C,A,B){var z;for(var y=B||0,x=C.length;y<x;++y){if((z=A(C[y],y))!==undefined){return z}}}function t(y,x){if(x===undefined){return y[y.length-1]}else{y[y.length-1]=x}}function n(y,x){var z=[];k(y,function(A){!x(A)&&z.push(A)});return z}function i(y,x){var z=[];k(y,function(A){x(A)&&z.push(A)});return z}function j(y,x){var z=[],A=0;k(y,function(C,B){x(C)&&z.push(B)});k(z,function(B){y.splice(B-A++,1)})}function g(x,y){var z=[];k(x,function(B,A){z.push(y(B,A))});return z}function m(z,y){for(var A=0,x=z.length;A!==x;++A){if(y(z[A])){return true}}return false}function q(y){var x=y.length-1,z=x===-1?[]:new Array(x);k(y,function(B,A){z[x-A]=B});return z}function h(x){var y=[];p(x[0].length,function(z){k(x,function(A){y.push(A[z])})});return y}function s(y,A){if(y.length===1){return y[0]}var B=A(y[0],y[1]);for(var z=2,x=y.length;z<x;++z){B=A(B,y[z])}return B}function w(y,x){return k(y,function(z){if(x(z)){return z}})}function r(y){var x=[];y(function(z){x.push(z)});return x}function u(){var x=[];k(arguments,function(y){k(y,function(z){x.push(z)})});return x}function v(x){return function(y){return x.apply(null,y)}}d["1"].range=o;d["1"].foreach=k;d["1"].top=t;d["1"].remove=n;d["1"].removeOut=j;d["1"].map=g;d["1"].reverse=q;d["1"].zip=h;d["1"].contains=m;d["1"].reduce=s;d["1"].findFirst=w;d["1"].filter=i;d["1"].collect=r;d["1"].concat=u;d["1"].apply=v});d(function(){var n=d["1"],j=d["0"];function i(x,y){var w;for(var v in x){if((w=y(v,x[v])!==undefined)){return w}}}function p(v){var w={};v(function(x,y){w[x]=y});return w}function q(w,v){return w===undefined?v:w}function r(w,v){n.foreach(v,function(x){i(x,function(y,z){if(z!==undefined){l.Object(z)&&l.Object(w[y])?t(w[y],z):w[y]=z}})});return w}function t(v){return r(v,Array.prototype.slice.call(arguments,1))}function o(){var v={};return r(v,arguments)}function k(w,x){var v={};n.foreach(x,function(y,z){v[y]=q(w[y],z)});return v}function m(v){var w={};n.foreach(v,function(x){w[x]=true});return{contains:function(x){return w[x]===true}}}function u(w){var v=[];i(w,function(x){v.push(x)});return v}function g(y,v){var w=m(v),x={};i(y,function(z,A){!w.contains(z)&&(x[z]=A)});return x}var l=(function(){var v={};n.foreach(["Array","Boolean","Date","Function","Number","Object","RegExp","String","Window","HTMLDocument"],function(w){v[w]=function(x){return Object.prototype.toString.call(x)=="[object "+w+"]"}});return v})();function h(x,w,v){j.callWith(function(y){l.String(w)?y(w,v):i(w,y)},function(y,z){Object.defineProperty(x,y,{enumerable:true,get:z})});return x}function s(x,w,v){j.callWith(function(y){l.String(w)?y(w,v):i(w,y)},function(z,y){y=y||{};var B=y.value,A=y.set;B!==undefined&&A(B);Object.defineProperty(x,z,{enumerable:true,get:function(){return B},set:function(C){B=A?q(A(C),C):C}})})}d["2"].foreach=i;d["2"].collect=p;d["2"].defaultValue=q;d["2"].insert=t;d["2"].extend=o;d["2"].extract=k;d["2"].exclude=g;d["2"].collection=m;d["2"].keys=u;d["2"].is=l;d["2"].defineGetter=h;d["2"].defineAutoProperty=s});d(function(){var i=d["2"],k=i.is;function l(){var o=null,n=null;function m(p){if(p.inserted===true){p.previous?p.previous.next=p.next:o=p.next;p.next?p.next.previous=p.previous:n=p.previous;p.inserted=false}}return{head:function(){return o},tail:function(){return n},insert:function(r,p){if(r===p){return}m(r);var q=p?p.previous:n;r.next=p;r.previous=q;q?q.next=r:o=r;p?p.previous=r:n=r;r.inserted=true;return r},remove:m}}function h(n,m){var o;for(var p=n.head();p!==null;p=p.next){if((o=m(p))!==undefined){return o}}}function g(n,s,r,q){var p,o,t,u,m;if(k.Function(s)){p=null;o=s;t=r}else{p=s;o=r;t=q}for(u=n;u!==p;u=t?u.previous:u.next){if((m=o(u))!==undefined){return m}}}function j(n,m){for(;m&&m!==n;m=m.next){}return m===null}d["3"]=l;l.foreach=h;l.iterate=g;l.isBefore=j});d(function(){var s=d["1"],p=d["2"],m=d["0"],j=d["3"];function r(){}function v(){var w=j();return{trig:function(){for(var x=w.head();x!==null;x=x.next){x.apply(null,arguments)}},regist:function(x){var y=w.insert(x,null);return{func:x,remove:function(){w.remove(y)}}}}}function o(x,z){z&&x.push(z);var w=x.length;m.recursion(function y(B,A){var C=x[B];if(C){C.apply(null,B===w-1?A:[function(){y(B+1,Array.prototype.slice.call(arguments,0))}].concat(A))}},0,[])}function u(y,x){var w=y.length;w===0?x&&x():s.foreach(y,function(z){z(function(){--w===0&&x&&x()})})}function g(x){var w=v();x(function(){if(w){w.trig();w=null}});return{onComplete:function(y){if(w){return w.regist(y)}else{y&&y();return{remove:function(){}}}},cancel:function(){w=null}}}function h(x){var w;return{load:function(y){if(!w){w=g(x)}return w.onComplete(y)}}}function n(w){return function(y,x){return function(A,z){if(A){w&&w(x?x(A):A)}else{y&&y(z)}}}}function t(x){var w,y;if(p.is.Function(x)){y=function(){Array.prototype.unshift.call(arguments,null);x.apply(null,arguments)};w=x}else{x=x||{};y=x.onSuccess||r;w=x.onError||r}return p.insert(x,{success:y,error:w})}function l(){var w=null,x=false;return{prepare:function(y){w=y;x&&w()},start:function(){w&&w();x=true}}}function i(w,y){var x=y(function(){w();s.foreach(x,function(z){z.remove()})})}function q(w,y){var x=window.setTimeout(w,y);return{remove:function(){window.clearTimeout(x)}}}function k(w,A,y){var x;m.recursion(function z(){if(w()){A()}else{x=q(z,y||100)}});return{remove:function(){x&&clearTimeout(x)}}}d["4"].Event=v;d["4"].concurrency=u;d["4"].sequence=o;d["4"].Waiter=g;d["4"].Loader=h;d["4"].GoOn=n;d["4"].Callback=t;d["4"].Schedule=l;d["4"].once=i;d["4"].setTimeout=q;d["4"].polling=k});d(function(){var k=d["1"];function h(m,o){var n,l;for(n=0,l=m.length;n!==l;++n){o(m.charAt(n))}}function g(l,m){return l+"("+m.join(",")+")"}function i(m){var l="";k.foreach(m,function(n){l+=l===""?n:n.replace(/(.)/,function(){return RegExp.$1.toUpperCase()})});return l}function j(q,o){var m=0,n,l=null,p="";n=q.charAt(m++);while(n){if(l===null){if(n==="%"){l=""}else{p+=n}}else{if(n==="%"){if(l===""){p+="%"}else{p+=o[l]||""}l=null}else{l+=n}}n=q.charAt(m++)}return p}d["5"].foreach=h;d["5"].format=j;d["5"].tuple=g;d["5"].camelcaseJoin=i});d(function(){var z=d["2"],l=z.is,g=d["5"],r=g.tuple,m=d["1"],k=d["3"];var x=function(){if(window.CSS&&CSS.supports){return function(B,A){return CSS.supports(B,A)}}else{var n=document.createElement("div");return function(B,A){n.removeAttribute("style");n.style.setProperty(B,A,"");return n.hasAttribute("style")}}}();function j(A,n){return m.findFirst(["","-webkit-","-ms-","-moz-","-o-"],function(B){return x(B+A,n)})}var v=function(){var n="";return function(B,A){return(n?x(n+B,A)?n:"":(n=j(B,A)))+B}}();function o(B,A,n){function C(E,D){if(D==null){y(B,E)}else{if(l.Number(D)){D=s(D)}B.style.setProperty(v(E,D),D,"")}}l.String(A)?C(A,n):z.foreach(A,C);return{element:B,remove:function(){y(B,A)}}}function w(B,A){var n="";z.foreach(B,function(D,C){n+=[A?D:v(D,C.toString().replace("!important","")),":",C,";"].join("")});return n}function y(A,n){function B(C){m.foreach(["","-webkit-","-ms-","-moz-","-o-"],function(D){A.style.removeProperty(D+C)})}l.String(n)?B(n):l.Object(n)?z.foreach(n,B):m.foreach(n,B);return A}var i=function(){var n=k(),A=k();return function(B,C){var F=C?A:n;if(F.el===undefined){F.el=document.head.insertBefore(document.createElement("style"),C?document.head.firstChild:null)}var E=F.tail(),D=F.insert({index:E===null?0:E.index+1});F.el.sheet.insertRule(B,D.index);return{remove:function(){var H=D.index;for(var G=D.next;G!==null;G=G.next){G.index=H++}F.remove(D);F.el.sheet.deleteRule(H)}}}}();function u(B,A,n){function C(E,H,F){var G=l.String(H)?H:w(H,/^@/.test(E));return i(E+" {"+G+"}",F)}if(l.String(B)){return C(B,A,n)}else{var D=[];z.foreach(B,function(E,F){D.push(C(E,F,A))});return{remove:function(){m.foreach(D,function(E){E.remove()})}}}}function s(A){return Math.round(A*10000)/10000}function q(n){return n===0?0:(s(n)<<0)+"px"}function h(n){return n===0?0:(s(n)<<0)+"rem"}function p(n){return n===0?0:s(n)+"deg"}function t(n){return function(A){return r(n,[p(A)])}}o.ruleString=w;o.test=x;o.testPrefix=j;o.testStyleName=v;o.remove=y;o.insertRule=i;o.insertRules=u;o.px=q;o.deg=p;o.full=function(n){return z.extend({position:"absolute",left:0,right:0,top:0,bottom:0},n||{})};o.size=function(B,A,n){o(B,{width:q(A),height:q(n)})};o.transform=function(){var n=[];m.foreach(arguments,function(A,B){B!==0&&n.push(A)});o(arguments[0],"transform",n.join(" "))};o.tuple=r;o.matrix=function(n){return r("matrix",m.map(n,s))};o.matrix3d=function(n){return r("matrix3d",m.map(n,s))};o.translate=function(n,B,A){return r("translate3d",m.map([n,B,A],function(C){return z.is.Number(C)?o.px(C):C}))};o.rotateX=t("rotateX");o.rotateY=t("rotateY");o.rotateZ=t("rotateZ");o.scale=function(){return"scale("+Array.prototype.join.call(arguments,",")+")"};o.s=function(n){return s(n)+"s"};o.url=function(n){return r("url",[n])};o.bezier=function(n){return r("cubic-bezier",n)};o.center=function(n){return{position:"absolute",left:"50%",width:q(n),"margin-left":q(-n/2)}};o.middle=function(n){return{position:"absolute",top:"50%",height:o.px(n),"margin-top":o.px(-n/2)}};d["6"]=o});d(function(){var i=navigator.userAgent,h=navigator.appVersion,g=navigator.platform;d["7"]={win32:g==="Win32",ie:!!window.ActiveXObject||"ActiveXObject" in window,ieVersion:Math.floor((/MSIE ([^;]+)/.exec(i)||[0,"0"])[1]),ios:(/iphone|ipad/gi).test(h),iphone:(/iphone/gi).test(h),ipad:(/ipad/gi).test(h),iosVersion:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(i)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||false,safari:/Version\//gi.test(h)&&/Safari/gi.test(h),uiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i),android:(/android/gi).test(h),androidVersion:parseFloat(""+(/android ([0-9\.]*)/i.exec(i)||[0,""])[1]),chrome:/Chrome/gi.test(i),chromeVersion:parseInt((/Chrome\/([0-9]*)/gi.exec(i)||[0,0])[1],10),webkit:/AppleWebKit/.test(h),uc:h.indexOf("UCBrowser")!==-1,Browser:/ Browser/gi.test(h),MiuiBrowser:/MiuiBrowser/gi.test(h),MicroMessenger:i.toLowerCase().match(/MicroMessenger/i)=="micromessenger",canTouch:"ontouchstart" in document,msPointer:window.navigator.msPointerEnabled}});d(function(){var i=d["2"],m=i.is,p=d["1"],n=d["6"],g=d["7"];function k(x,w,u){var A,y={},z=u;if(m.String(x)){if(x.charAt(0)==="<"){A=document.createElement("div");A.innerHTML=x;A=A.firstElementChild}else{var v=/([.#][^.#]*)/g,B;A=document.createElement(x.split(/[#.]/)[0]);while(B=v.exec(x)){B=B[0];B.charAt(0)==="#"?A.id=B.substring(1):A.classList.add(B.substring(1))}}}else{A=x}if(m.String(w)){A.innerHTML=w}else{if(m.Object(w)){y=w}else{if(m.Array(w)){y.children=w}else{z=w}}}y&&i.foreach(y,function(C,D){if(D!==undefined){switch(C){case"classList":if(m.String(D)){A.classList.add(D)}else{if(m.Array(D)){p.foreach(D,function(E){A.classList.add(E)})}}break;case"css":n(A,D);break;case"children":if(m.Array(D)){p.foreach(D,function(E){A.appendChild(E)})}else{A.appendChild(D)}break;default:if(C.substring(0,5)==="data-"){A.setAttribute(C,D)}else{A[C]=D}break}}});z&&z.appendChild(A);return A}function t(v,w,u){v.toState=function(x){n(v,w[x])};u&&v.toState(u);return v}function q(y,x,v,w){var u;if(y.addEventListener){y.addEventListener(x,v,w||false);u=function(){y.removeEventListener(x,v,w||false)}}else{y.attachEvent("on"+x,v);u=function(){y.detachEvent("on"+x,v)}}return{func:v,remove:u}}function j(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function h(u){return{add:function(v){u.classList.add(v);return h(u)},remove:function(v){u.classList.remove(v);return h(u)}}}function r(v,w,u){var x;while(v!==null&&v!==document&&v!==u){if(x=w(v)){return x}v=v.parentNode}}function o(v,u){document.addEventListener(v,function(w){r(w.target,function(x){u(x,w.target)},document.documentElement)},false)}function l(u,v){return r(u,function(w){if(v(w)){return w}})}function s(x,v){if(document.documentElement.contains(x)){v&&v()}else{if(g.ie&&window.MutationObserver){var u=new MutationObserver(function(y){p.foreach(y,function(z){return p.foreach(z.addedNodes||[],function(A){if(A===x){u.disconnect();v&&v(x);return true}})})});u.observe(document.documentElement,{childList:true,subtree:true})}else{var w=q(x,"DOMNodeInsertedIntoDocument",function(){v&&v(x);w.remove()})}}}d["8"]=k;k.bind=q;k.remove=j;k.State=t;k.classList=h;k.bubble=r;k.onBubble=o;k.findAncestor=l;k.onInsert=s});d(function(){var k=d["2"],n=d["1"],p=k.extend,g=k.exclude;function i(t){var s=document.createElement("a");s.href=t;return s.href}function q(u){var t="",s=0;k.foreach(u||{},function(v,w){if(w!==undefined){s++&&(t+="&");t+=encodeURIComponent(v);t+="=";t+=encodeURIComponent(w)}});return t}function l(v,u,t,s){n.foreach(v.split(u),function(w){var x=w.split(t);s(x[0],x[1])})}var m=/(?:((?:[^:/]*):)\/\/)?([^:/?#]*)(?::([0-9]*))?(\/[^?#]*)?(\?[^#]*)?(#.*)?/;function o(s){if(m.test(s)){this.protocol=RegExp.$1;this.hostname=RegExp.$2;this.port=RegExp.$3;this.pathname=RegExp.$4;this.search=RegExp.$5;this.hash=RegExp.$6}}o.prototype.inspect=o.prototype.valueOf=o.prototype.toString=o.prototype.toJSON=function(){return this.href};Object.defineProperties(o.prototype,{href:{get:function(){return this.origin+this.pathname+this.search+this.hash}},host:{get:function(){return this.hostname+(this.port?":"+this.port:"")}},origin:{get:function(){return this.protocol?this.protocol+"//"+this.host:this.host}},arg:{get:function(){var s={};l(this.search.substring(1),"&","=",function(t,u){t!==""&&(s[t]=decodeURIComponent(u))});return s}}});function j(s){return new o(s)}function h(t,s){t=j(t);var u=q(p(t.arg,s));return t.origin+t.pathname+(u?"?":"")+u+t.hash}function r(s,t){s=j(s);var u=q(g(s.arg,t));return s.origin+s.pathname+(u?"?":"")+u+s.hash}d["9"]=j;j.toAbsolute=i;j.encodeObject=q;j.concatArg=h;j.removeArg=r});d(function(){var z=d["2"],p=d["6"],i=d["8"],g=d["5"],k=d["1"],j=d["0"],u=d["7"],y={},l=0,t=null;function h(){if(t===null){t=p.testPrefix("animation","a 1s")}}function q(A){return function(C,B){h();return i.bind(C,t?g.camelcaseJoin([t.replace(/-/g,"")].concat(A)):A.join(""),function(D){D&&D.stopPropagation();B&&B()})}}var s=q(["animation","end"]),w=q(["transition","end"]);function x(A){return function(E,C,F,D){F=F*1000;var B=A(E,function(){B.remove();var G=new Date()-D();j.callWith(function(H){if(u.ios&&G<F){setTimeout(function(){H()},F*1.05-G)}else{H()}},C)});return B}}var n=x(s),o=x(w);function r(B){var C="";h();z.foreach(B,function(F,E){C+=(parseFloat(F)<<0)+"% {"+p.ruleString(E)+"}"});var A=y[C],D;if(!A){A=y[C]={count:0,id:D="keyframe"+l++,handle:p.insertRules("@"+t+"keyframes "+D,C)}}++A.count;return{id:A.id,remove:function(){if(--A.count===0){A.handle.remove();delete y[C]}}}}function v(H,B){B=B||{};var G=null,E=null,D="both",A,F=null,C=[];k.foreach(H,function(I){if(z.is.Object(I)){F=r(I);C.push(F.id)}else{if(z.is.Number(I)){if(G===null){G=I}else{E=I}C.push(p.s(I))}else{switch(I){case"forwards":case"backwards":case"both":D=I;break;default:C.push(I);break}}}if(I==="infinite"){B.infinite=true}});C.push(D);G=G||1;E=E||0;A=G+E;z.insert(B,{end:A,handle:F});return C.join(" ")}function m(E,H,I){var G=null,B=[],D=false;I=I||{};j.callWith(function(J){z.is.Array(E[0])?k.foreach(E,J):J(E)},function(L){var K=L[0],J={el:K};p(K,"animation",v(L.slice(1),J));p(K,"animation-play-state","paused");if(!G||J.end>G.end){G=J}if(J.infinite){D=true}B.push(J)});var A;function C(){A=new Date();k.foreach(B,function(J){p(J.el,"animation-play-state","running")})}I.play!==false&&setTimeout(C,u.ios?30:0);if(H){var F=n(G.el,function(){k.foreach(B,function(J){if(I.removeKeyframes){J.handle&&J.handle.remove()}p.remove(J.el,"animation")});H&&H()},G.end,function(){return A});return{play:C,fastForward:F.func}}}d["10"].onAnimationEnd=s;d["10"].onTransitionEnd=w;d["10"].onAnimationEndAdvanced=n;d["10"].onTransitionEndAdvanced=o;d["10"].Keyframes=r;d["10"].animation=v;d["10"].runAnimation=m});d(function(){var m=d["1"],y=d["2"],v=d["7"],i=d["8"],A=i.bind,q=x("pageX"),p=x("pageY"),w=j(["touchmove","MSPointerMove","mousemove"]),g=j(["touchstart","MSPointerDown","mousedown"]),u=j(["touchend","MSPointerUp","mouseup"]),l,k,o,n;function j(B){return B[v.canTouch?0:v.msPointer?1:2]}function x(B){return function(C){return"touches" in C&&C.touches[0]!==undefined?C.touches[0][B]:C[B]}}A(document,g,function(B){o=q(B);n=p(B)},true);A(document,w,function(C){var B=q(C),D=p(C);l=y.defaultValue(o,B);k=y.defaultValue(n,D);o=B;n=D},true);function z(B,C){return y.insert(C,{preventDefault:function(){B.preventDefault()},stopPropagation:function(){B.stopPropagation()},origin:B})}function s(D,B,C){return A(D,w,function(E){B(z(E,{x:o,y:n,dX:o-l,dY:n-k}))},C)}function r(B){return function(E,C,D){return A(E,B,function(F){C(z(F,{x:y.defaultValue(o,q(F)),y:y.defaultValue(n,p(F))}))},D)}}var t=r(u);function h(B){var D=s(document,function(E){B.onMove&&B.onMove(E)}),C=t(document,function(E){D.remove();C.remove();B.onUp&&B.onUp(E)});return{remove:function(){D.remove();C.remove()}}}d["11"].onPointerMove=s;d["11"].onPointerDown=r(g);d["11"].onPointerUp=t;d["11"].onMoveUp=h});d(function(){function g(h){try{var i=document.createElement("canvas"),j=i.getContext("2d");i.width=h.naturalWidth||h.width;i.height=h.naturalHeight||h.height;j.drawImage(h,0,0);return i.toDataURL()}catch(k){return null}}d["12"].toDataURL=g});d(function(){var g=d["2"];d["13"]=function(h,j){var i=new XMLHttpRequest();i.onload=function(){j&&j(null,i)};i.onerror=function(k){j&&j(k,i)};i.open(h.method||"get",h.url,true);h.headers&&g.foreach(h.headers,function(k,l){i.setRequestHeader(k,l)});h.responseType&&(i.responseType=h.responseType);i.send(h.data||null);return i}});d(function(){var i=d["7"],h=d["2"],g=d["9"];h.insert(i,{iphone4:i.iphone&&screen.height===480,iphone5:i.iphone&&screen.height===568,iphone6:i.iphone&&screen.height>568,mi4:/Mi 4LTE/gi.test(navigator.userAgent)});if(i.chuye=window.chuye||/chuye/gi.test(navigator.userAgent)){i.chuyeVersion=/chuye\/([\d.]*)/gi.test(navigator.userAgent)?parseFloat(RegExp.$1):1;i.chuyeList=window.chuyeList||/chuyeFlow/gi.test(navigator.userAgent)||!!g(location.href).arg.list;i.chuyePreview=window.chuyePreview||/chuyePreview/gi.test(navigator.userAgent)}if(i.iphone){i.systemName="iphone"}else{if(i.ipad){i.systemName="ipad"}else{if(i.ios){i.systemName="ios-other"}else{if(i.android){i.systemName="android"}else{i.systemName="other"}}}}i.ios&&document.documentElement.classList.add("ios");i.win32&&document.documentElement.classList.add("win32");d["14"]=i});d(function(){var g=d["1"];d["15"]=function(){var h=window.localResource||{};if(h.version!==window.firstpageVersion){g.foreach(h.list||[],function(i){localStorage.removeItem(i)});h.version=window.firstpageVersion;h.list=[];localStorage.setItem("resource",JSON.stringify(h))}return function(j,i){if(!window.localResource){return null}else{if(i===undefined){return localStorage.getItem(j)}else{if(!g.contains(h.list,function(l){return l===j})){var k=i();if(k!=null){h.list.push(j);localStorage.setItem(j,i());localStorage.setItem("resource",JSON.stringify(h))}}}}}}()});d(function(){var n=d["6"],i=d["4"],k=d["9"],w=d["12"],h=d["8"],z=d["2"],o=d["13"],r=d["14"],A=d["15"],p=i.Loader(function(B){var C=j.imageNotFound=g("image-not-found"),D=h.bind(C,"load",function(){D.remove();B()})}),m=new Image(),x=m.crossOrigin===undefined||r.iphone&&!r.iphone6;function u(B){return/^#/.test(B)||/^rgba/gi.test(B)}function t(B){return window.contentPath+"image/"+B}function s(C,E){E=E||{};var D=C.fullWidth=E.w||C.naturalWidth||C.width,B=C.fullHeight=E.h||C.naturalHeight||C.height;C.w=C.halfWidth=Math.round(D/2);C.h=C.halfHeight=Math.round(B/2);C.whr=D/B}function l(E,B,J){J=J||{};var H=false,G=!!J.crossOrigin,K,F=/^data:/.test(B);function C(L){E.fail=L?"fatal":true;p.load(function(){J.onError&&J.onError()})}if(!B){C(true);return E}if(u(B)){E.color=B;setTimeout(function(){J.onLoad&&J.onLoad()},0);return E}function D(){if(!H){E.src="";E.src=k.concatArg(B,{t:(new Date()).getTime()});H=true}else{C()}}if(!F&&/\.([^.]*)$/.test(k(B).pathname.replace(/!([^!]*)$/,""))&&!((K=RegExp.$1) in {jpeg:true,jpg:true,svg:true,png:true,gif:true,bmp:true})){setTimeout(C,0);return E}G&&(E.crossOrigin="*");E.onerror=D;E.onload=function(){if(G&&!x){try{var L=document.createElement("canvas"),M=L.getContext("2d");L.width=1;L.height=1;M.drawImage(E,0,0);L.toDataURL()}catch(N){D();return}}s(E);E.onerror=null;E.onload=null;J.onLoad&&J.onLoad(E)};if(K==="svg"){var I=o({url:B},function(L){if(L){C()}else{E.src=E.imageData="data:image/svg+xml;utf8,"+I.responseText}})}else{E.src=B}return E}function j(C,B){return l(new Image(),C,B)}var g=window.Icon||(x?function(C){var B=j(t("icon/"+C+".png"));s(B,a[C]);n.size(B,B.w,B.h);return B}:(function(){var B={};function C(G,E){var F=G.split("/"),H=["icon"].concat(F.slice(0,F.length-1)).join("-"),D=B[H]=B[H]||new Image();if(!D.waiter){D.waiter=i.Waiter(function(J){var I=t(H+".png"),K=A(I);l(D,K||I,{crossOrigin:K==null,onLoad:function(){J();A(I,function(){return w.toDataURL(D)})}})})}D.waiter.onComplete(function(){E(D)})}return function(H){var G=a[H],D=document.createElement("canvas"),F=D.getContext("2d"),E=new Image();D.width=G.w;D.height=G.h;s(E,G);n.size(E,E.w,E.h);n(E,"visibility","hidden");C(H,function(I){F.drawImage(I,G.x,G.y,G.w,G.h,0,0,G.w,G.h);E.onload=function(){E.onload=null;n(E,"visibility","visible")};E.src=D.toDataURL("image/png")});return E}})());function v(B){var C=new Image();C.src=B.src;s(C,B);return C}function q(D,B,E){var C=document.createElement("canvas"),F=C.context=C.getContext("2d");E=C.dpr=E||(window.devicePixelRatio||1)/(F.webkitBackingStorePixelRatio||F.mozBackingStorePixelRatio||F.msBackingStorePixelRatio||F.oBackingStorePixelRatio||F.backingStorePixelRatio||1);C.width=D*E;C.height=B*E;n(C,{display:"block",width:n.px(C.logicalWidth=D),height:n.px(C.logicalHeight=B)});F.scale(E,E);return C}function y(B,C){B.innerHTML="";n(B,"background","white");j(t(C),{onLoad:function(D){h(D,{css:z.insert(n.center(D.halfWidth),n.middle(D.halfHeight))},B)}})}j.isColor=u;j.load=l;j.clone=v;j.Canvas=q;j.Icon=g;j.staticSrc=t;j.pageError=y;d["16"]=j});d(function(){var n=d["1"],j={eye:function(){return[1,0,0,1,0,0]},translate:function(o,p){return[1,0,0,1,o,p]},scale:function(p,o){return[p,0,0,o,0,0]},rotate:function(o){var p=Math.sin(o),q=Math.cos(o);return[q,p,-p,q,0,0]}};function g(o,p){return o[0]===p[0]&&o[1]===p[1]&&o[2]===p[2]&&o[3]===p[3]&&o[4]===p[4]&&o[5]===p[5]}function h(o){var p=o[0]*o[3]-o[1]*o[2];return[o[3]/p,-o[1]/p,-o[2]/p,o[0]/p,(o[2]*o[5]-o[3]*o[4])/p,(o[1]*o[4]-o[0]*o[5])/p]}function k(o,q){return[o[0]*q[0]+o[2]*q[1]+o[4]*q[2],o[1]*q[0]+o[3]*q[1]+o[5]*q[2],q[2]]}function l(o,p){return[o[0]*p[0]+o[2]*p[1],o[1]*p[0]+o[3]*p[1],o[0]*p[2]+o[2]*p[3],o[1]*p[2]+o[3]*p[3],o[0]*p[4]+o[2]*p[5]+o[4],o[1]*p[4]+o[3]*p[5]+o[5]]}function m(){return n.reduce(arguments,l)}function i(p,o,q){return m(j.translate(o,q),p,j.translate(-o,-q))}d["17"].matrix=j;d["17"].isTransformEqual=g;d["17"].inverse=h;d["17"].transform=k;d["17"].combine=m;d["17"].origin=i});d(function(){var l=d["1"],h={eye:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},translate:function(m,o,n){return[1,0,0,0,0,1,0,0,0,0,1,0,m,o,n,1]},scale:function(m,o,n){return[m,0,0,0,0,o,0,0,0,0,n,0,0,0,0,1]},rotateX:function(m){var n=Math.sin(m),o=Math.cos(m);return[1,0,0,0,0,o,n,0,0,-n,o,0,0,0,0,1]},rotateY:function(m){var n=Math.sin(m),o=Math.cos(m);return[o,0,-n,0,0,1,0,0,n,0,o,0,0,0,0,1]},rotateZ:function(m){var n=Math.sin(m),o=Math.cos(m);return[o,n,0,0,-n,o,0,0,0,0,1,0,0,0,0,1]},rotate:function(o,n){var m=o[0],u=o[1],t=o[2],q=Math.sqrt(m*m+u*u+t*t),p=Math.sin(n),s=Math.cos(n);m/=q;u/=q;t/=q;return[1+(1-s)*(m*m-1),t*p+m*u*(1-s),-u*p+m*t*(1-s),0,-t*p+m*u*(1-s),1+(1-s)*(u*u-1),m*p+u*t*(1-s),0,u*p+m*t*(1-s),-m*p+u*t*(1-s),1+(1-s)*(t*t-1),0,0,0,0,1]},perspective:function(m){return[1,0,0,0,0,1,0,0,0,0,1,-1/m,0,0,0,1]}};function j(o,n){for(var r=0,m=[];r<4;++r){for(var q=0;q<4;++q){m[r*4+q]=0;for(var p=0;p<4;++p){m[r*4+q]+=n[r*4+p]*o[p*4+q]}}}return m}function k(){return l.reduce(arguments,j)}function g(o,n,q,p){return k(h.translate(n,q,p),o,h.translate(-n,-q,-p))}function i(n,o){return l.map(l.range(4),function(m){return n[m]*o[0]+n[m+4]*o[1]+n[m+8]*o[2]+n[m+12]*o[3]})}d["18"].matrix=h;d["18"].combine=k;d["18"].origin=g;d["18"].transform=i});d(function(){var H=d["2"],n=H.insert,w=d["0"],L=d["6"],G=d["4"],y=d["17"],h=y.matrix,m=d["18"],D=m.matrix,k=d["1"],B=d["8"],j=d["12"],v=d["11"],x=d["3"],P=d["10"],r=d["5"],K=d["14"],O=d["16"],g=d["15"],J={},N=K.ios||K.win32;L.insertRules({".animation-prepare *":{"animation-play-state":"paused !important"}});function E(R){return R?H.is.String(R)?R:L.bezier(R.arg):"ease"}function p(R){return !R.progress["0"]||R.emphasize}function q(R){return H.foreach(R.progress,function(T,S){if("perspective" in S){return true}})}function l(R){return y.origin(y.combine(h.translate(R.x,R.y),h.scale(R.scale,R.scale),h.rotate(R.rotate/180*Math.PI)),R.w/2,R.h/2)}function A(S){var R=h.eye();while(S.parent){R=y.combine(l(S),R);S=S.parent}return R}function F(S){var R=m.combine(D.scale(S.scale,S.scale,1),D.rotateZ(S.rotate/180*Math.PI));S.opacity=S.opacity+0;if(S.left===undefined){L(S.element,{left:L.px(S.x),top:L.px(S.y)})}else{R=m.combine(D.translate(S.x-S.left,S.y-S.top,0),R)}if(L.matrix3d(R)!=="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"){L.transform(S.element,L.matrix3d(R))}else{L.remove(S.element,"transform")}L.remove(S.element,"transform-origin")}function I(S){if(S.element){return S.element()}else{var R=O.Canvas(S.width,S.height);S.draw(R.context);return K.android?B("div",[R]):R}}function s(U,W){var T=I(U),S=T.wrapper={fixed:true},R={};L(T,{position:"absolute",display:"block",left:0,top:0,width:L.px(S.w=U.width),height:L.px(S.h=U.height),"z-index":0});function V(Y,X,aa,Z){R[Y]=X;Object.defineProperty(S,Y,{get:function(){return R[Y]},set:function(ab){R[Y]=Z?Z(ab):ab;aa&&aa(ab)}})}V("opacity",1,function(X){L(T,"opacity",X)});V("zi",0,function(X){L(T,"z-index",X)});V("visible",true,function(X){L(T,"visibility",X?"visible":"hidden")});H.defineAutoProperty(S,"dataSource",{value:U.dataSource,set:function(X){T.classList.add("layout-component-from-data");T.dataSource=X}});H.foreach({x:0,y:0},function(Y,X){V(Y,X,function(){F(S)},function(Z){return S.fixed?Math.round(Z):Z})});Object.defineProperty(S,"origin",{get:function(){return[S.x,S.y]},set:function(X){S.x=X[0];S.y=X[1]}});H.foreach({rotate:0,scale:1},function(Y,X){V(Y,X,function(){F(S)})});H.insert(S,{element:T,appendTo:function(X){if(!X.children){X.children=[]}X.children.push(S);X.element.appendChild(T);S.parent=X;return S},draw:function(X){U.draw(X)}});if(W){S.appendTo(W)}return S}function Q(R){var S=s({element:function(){return R.element.cloneNode(true)},width:R.w,height:R.h});S.opacity=R.opacity;S.origin=R.origin;S.scale=R.scale;S.rotate=R.rotate;return S}function M(T,U,S){w.recursion(function R(V){if(V.visible&&(S?S(V):true)){V.draw&&V.draw(U);V.children&&k.foreach(V.children.sort(function(W,X){return W.zi-X.zi}),function(W){U.save();U.globalAlpha*=W.opacity;U.transform.apply(U,l(W));R(W);U.restore()})}},T)}function z(S,T){w.recursion(function R(U){U.children&&k.foreach(U.children,R);S!==U&&T(U)},S)}function C(X,W,T,Y){Y=Y||{};var S=X.w,Z=X.h,R=W.progress;function U(ab,aa){return H.is.String(ab)?parseInt(ab.replace("%",""))/100*aa:ab}function V(aa){return aa!==undefined}k.foreach(k.collect(function(aa){H.foreach(R,function(ab,ac){k.foreach(ab.split(" "),function(ad){aa({ratio:parseInt(ad)/100,value:ac})})})}).sort(function(ab,aa){return ab.ratio-aa.ratio}),function(ac){var aa=ac.value,ad=[],af=aa.rotate||0,ae=H.defaultValue(aa.scale,1),ai=W.origin?[W.origin[0]*S-0.5*S,W.origin[1]*Z-0.5*Z]:null,ag=H.extend({opacity:1,x:0,y:0,z:0,rotateX:0,rotateY:0,rotateZ:af,scaleX:ae,scaleY:ae,skewX:0,skewY:0,perspective:0},aa),ah=y.combine(h.scale(X.scale,X.scale),h.rotate(X.rotate/180*Math.PI));function ab(aj,al,ak){ad.push(r.tuple(aj,[ak(al)]))}delete ag.rotate;delete ag.scale;ag=H.extend(ag,{x:U(ag.x,S),y:U(ag.y,Z)});ai&&ad.push(L.translate(ai[0],ai[1],0));V(aa.perspective)&&ab("perspective",ag.perspective,L.px);(V(aa.x)||V(aa.y)||V(aa.z))&&ad.push(L.translate(ag.x,ag.y,ag.z));T!==true&&ad.push(L.matrix(ai?y.origin(ah,S/2-W.origin[0]*S,Z/2-W.origin[1]*Z):ah));(V(aa.scaleX)||V(aa.scaleY)||V(aa.scale))&&ad.push(L.scale(ag.scaleX,ag.scaleY));V(aa.rotateX)&&ab("rotateX",ag.rotateX,L.deg);V(aa.rotateY)&&ab("rotateY",ag.rotateY,L.deg);(V(aa.rotateZ)||V(aa.rotate))&&ab("rotateZ",ag.rotateZ,L.deg);(V(aa.skewX))&&ab("skewX",ag.skewX,L.deg);V(aa.skewY)&&ab("skewY",ag.skewY,L.deg);ai&&ad.push(L.translate(-ai[0],-ai[1],0));Y[ac.ratio*100]=H.extend({"transform-origin":ag.origin?k.map(ag.origin,function(aj){return aj*100+"%"}).join(" "):undefined,filter:ag.filter,opacity:ag.absOpacity!==undefined?ag.absOpacity:ag.opacity*X.opacity,transform:ad.join(" "),visibility:ag.visibility===undefined?undefined:ag.visibility?"visible":"hidden"},{"animation-timing":ag.timing?H.is.String(ag.timing)?ag.timing:L.bezier(ag.timing.arg):undefined})});return P.Keyframes(Y).id}function i(S,W,V,R,U){var T=[C(S,W,false,U),L.s(V),L.s(R),E(W.timing),"both"].join(" ");return T}function o(T,V){var U=T.element;L(U,"transition",[L.s(V.duration),L.s(V.delay||0),E(V.timing)].join(" "));H.foreach(V.end,function(X,W){T[X]=W});function S(){V.onEnd&&V.onEnd();L.remove(U,"transition");R.remove()}var R=B.bind(U,"webkitTransitionEnd",S);return{fastForward:S}}function t(V,T,R){var X={w:V.w=T,h:V.h=R,xScale:T/320,yScale:R/568},S=G.Event(),U=G.Event(),W=G.Event();X.body=V.body||V;L(V,{position:"relative",width:L.px(T),height:L.px(R),"z-index":0,"backface-visibility":"hidden",overflow:"hidden"});H.defineAutoProperty(X,"background",{value:"black",set:function(Y){L(V,"background",Y)}});return n(V,{draw:function(Y){Y.fillStyle=X.background;Y.fillRect(0,0,T,R);M(X,Y,function(Z){return V.contains(Z.element)&&(!V.classList.contains("animation-prepare")||Z.enter==null||p(Z.enter))})},recycle:function(){W.trig();V.prepare=function(){return V}},prepare:function(){var Z=null,aa=x(),ab,Y;V.classList.add("animation-prepare");if(!V.doPagePerspective){z(X,function(ac){if(K.ios&&ac.enter&&q(ac.enter)){Y=true}});if(Y){z(X,function(ac){if(ac.isElement){B("div",{css:{position:"absolute",left:0,top:0,transform:"translateZ(10000px)","z-index":ac.zi},children:[ac.element]},ac.element.parentNode)}})}V.doPagePerspective=true}z(X,function(ae){var ai=ae.enter;if(ai){var ad=ai.delay||(ai.delay=0),ah=ai.duration||(ai.duration=1),ac=ad+ah,ag={},af=ae.element;if(N){L(af,"animation",i(ae,ai,ah,ad))}else{af.animationStyle=i(ae,ai,ah,ad,ag);if(ag[0]){af.normalStyle=af.getAttribute("style");L(af,ag[0])}}if(!Z||Z.end<ac){Z=ae;Z.end=ac}aa.insert(ae,null);ae.animationHandle=P.onAnimationEndAdvanced(ae.element,function(){aa.remove(ae);!ai.both&&L.remove(af,"animation");ai.onEnd&&ai.onEnd()},ac,function(){return ab})}});return n(V,{recycle:function(){W.trig();V.play=function(){return V}},fastForward:function(){},play:function(){if(!N){z(X,function(ad){var ac=ad.element;if(ac.animationStyle){if(ac.normalStyle){ac.setAttribute("style",ac.normalStyle)}L(ac,"animation",ac.animationStyle)}})}z(X,function(ac){ac.left=ac.x;ac.top=ac.y});ab=new Date();if(Z){P.onAnimationEndAdvanced(Z.element,function(){U.trig()},Z.end,function(){return ab})}else{U.trig()}K.win32||K.chrome?setTimeout(function(){V.classList.remove("animation-prepare")},30):V.classList.remove("animation-prepare");S.trig();return n(V,{recycle:W.trig,fastForward:function(){x.foreach(aa,function(ac){var ad=ac.enter;L.remove(ac.element,"animation");ad.onEnd&&ad.onEnd();ac.animationHandle.remove();aa.remove(ac)});U.trig()}})}})},wrapper:n(X,{visible:true,element:V,onShow:S.regist,onEnterEnd:U.regist,onRemove:W.regist}),toCanvas:function(){var Y=O.Canvas(T,R);V.draw(Y.context);return Y}})}function u(S,T){S=S||{};function U(Z){var Y=Z.name in {qrcode:true,screen:true}?Z.name:Z.label;return Z.format||J[Y]||J.SingleImage}var X=U(S),R=[],W=[],V={};w.callWith(function(Y){X.load?X.load(S,Y):Y(S)},function(Y){var Z=[];X=U(Y);k.foreach(Y.image||[],function(ac,ab){var aa=ac.imageInfo;Z.push(function(ad){ac=H.is.String(ac)?ac:ac.url;var ae=O(ac,{crossOrigin:X.crossOrigin,onError:function(){R[ab]=ae;W[ab]=aa;ad()},onLoad:function(){W[ab]=aa;R[ab]=ae;ad()}})})});H.foreach(X.resource,function(aa,ab){Z.push(function(ac){var af,ad,ag;function ae(){V[aa]=ad;ac()}if(/\./.test(ab)){ab=O.staticSrc(ab);af=g(ab);ad=O(af||ab,{crossOrigin:af==null,onError:ae,onLoad:function(){ae();g(ab,function(){return ad.imageData||j.toDataURL(ad)})}})}else{ad=O.Icon(ab);ag=B.bind(ad,"load",function(){setTimeout(ae,0);ag.remove()})}})});k.foreach(Y.componentImages||[],function(aa){Z.push(function(ab){O.load(aa,aa.targetSrc,{crossOrigin:X.crossOrigin,onError:ab,onLoad:ab})})});G.concurrency(Z,function(){T&&T(function(ad,aa,ab,ac){var ae=B("div.layout");ae.body=ac||ae;ae.pageData=Y;ae.label=Y.label;ab=ab||{};if(X.ignorePureColor){R=k.remove(R,function(af){return !!af.color})}ae.resize=function(ah,af){ae.innerHTML="";t(ae,ah,af);function ag(am,al){return function(an){return an===undefined?am:am?am[an]:al}}try{if(Y.fail){throw new Error()}X.create(ae.wrapper,H.extend(Y,{data:function(){return Y.data},kahn1990_imageInfo:function ak(al){return W[al]},image:function aj(am){if(am===undefined){return k.map(R,function(an,ao){return aj(ao)})}var al=R[am]||B("img",{fail:"empty"});al.dataSource={from:"image",index:am};return al},text:function(al){var am=Y.text[al]||"";return{dataSource:{from:"text",index:al},toString:function(){return am}}},component:ag(Y.components,{}),imageinfo:ag(Y.imageinfo,{}),location:ag(Y.location,{}),video:ag(Y.video,""),actionlinks:ag(Y.actionlinks,""),position:ag(Y.position,"")}),V,ab)}catch(ai){O.pageError(ae,"page-error.png")}};ae.resize(ad,aa);return ae})})})}d["19"].formats=J;d["19"].Component=s;d["19"].drawComponent=M;d["19"].loopComponent=z;d["19"].cloneComponent=Q;d["19"].EnterAnimation=i;d["19"].contentToElement=I;d["19"].getPageMatrix=A;d["19"].loadPage=u;d["19"].isEmphasize=p;d["19"].isPerspective=q;d["19"].transition=o});d(function(){var i=d["3"];var m=/^[（【“‘]$/;var s=/^[）】”’，。；：？！、]$/;var k=/^[0-9a-zA-Z`~!@#\$%\^&\*\(\)\-_=\+\[\{\]\}\\\|:;"'<,>\.\?\/]$/;var l=/^[ 	　]$/;var o=/^[\n\r]$/;function n(t){return t.character||""}function p(u,t){return u&&t&&(m.test(u)&&!l.test(t)||!l.test(u)&&s.test(t)||k.test(u)&&k.test(t)||l.test(u)&&l.test(t))}function r(u,t){return function(x,A,v,w){var y=w;var C=x;var E=0;var z="";var B=x;var D=[];i.iterate(x,A,function(F){E+=F.width;z+=n(F);if(u(n(F),F.next===A?"":n(F.next))){if(o.test(z)){D.push(C);C=F.next;y=w}else{if(B!==C&&y+E>v&&!(t&&l.test(n(B)))){D.push(C);C=B;y=E}else{y+=E}}z="";E=0;B=F.next}});D.push(C);return D}}var g=r(function(u,t){return true},false);var h=r(function(u,t){return !p(u,t)},true);function q(x,u,v,w){var t=w;i.iterate(x,u,function(y){y.offsetX=t;t+=y.width})}function j(y,C,v,z){var u=y;i.iterate(y,C,function(E){if(!E.character||!l.test(E.character)){u=E}});var D=0;var B=0;i.iterate(y,u.next,function(E){B+=E.width;if(E.next!==u.next&&!p(E.character,E.next.character)){D++}});var t=D>0?(v-z-B)/D:0;var A=z;var w=0;var x=0;i.iterate(y,C,function(E){E.offsetX=A+w;A+=E.width;if(E.next!==C&&!p(E.character,E.next.character)){x++;w=(t*Math.min(x,D)+0.5)<<0}})}d["20"].buildAllBreakLines=g;d["20"].buildWordBreakLines=h;d["20"].alignLeftLine=q;d["20"].alignSideLine=j});d(function(){function g(i,j){var h=null;i(function(k){h&&j(h,k);h=k});j(h,null)}d["21"].foreach=g});d(function(){var j=d["20"],n=d["21"],k=d["5"],p=d["3"],m=d["1"];var g=function(){var q;return function(){return q?q:q=document.createElement("canvas").getContext("2d")}}();function l(q){q=q||{};return[q.fontStyle||"normal",q.fontVariant||"normal",q.fontWeight||"normal",(q.fontSize||12)+"px",q.fontFamily||"sans-serif"].join(" ")}function h(s,q){var r=g();r.font=l(q);return r.measureText(s)}function o(w,s,r){var u=g(),v=0,q=0,t=p(),x=r.align;u.font=l(r);k.foreach(w.replace(/\r/g,""),function(y){t.insert({character:y,width:y==="\n"?0:u.measureText(y).width},null);if(y==="\n"){++v}});n.foreach(function(y){m.foreach(r.lineBreak(t.head(),null,s,0),y)},function(z,y){z&&(z.lineStart=true);x(z,y,s,0);++q});t.style=r;t.width=s;t.height=q*r.lineHeight+v*(r.margin||(r.margin=0));return t}function i(v,t){var s=t.style,r=s.lineHeight,u=s.margin,w=-r,q=r/2<<0;v.font=l(s);v.fillStyle=s.color;v.textBaseline="middle";p.foreach(t,function(x){if(x.lineStart){w+=r}if(x.character==="\n"){w+=u}v.fillText(x.character,x.offsetX,w+q)})}d["22"].LineBreak={breakAll:j.buildAllBreakLines,normal:j.buildWordBreakLines};d["22"].Align={left:j.alignLeftLine,side:function(s,q,r){(q&&q.previous.character!=="\n"?j.alignSideLine:j.alignLeftLine)(s,q,r,0)}};d["22"].Font=l;d["22"].measureText=h;d["22"].layText=o;d["22"].drawTextLayout=i});d(function(){var l=d["2"],m=d["6"],p=d["17"],q=p.matrix,g=d["14"],o=d["1"],j={w:320,h:568},n={w:320,h:504};function i(E){var F=E.s,A=E.d,r=F.w,w=F.h,z=A.w,v=A.h,u=E.scale(r,w,z,v),D=(z-r*u)*(E.x||0.5),B=(v-w*u)*(E.y||0.5),C=p.combine(q.translate(D,B),q.scale(u,u));function t(x,s,G){var y=(x-s*u)*G;return y>0?[0,s,y,s*u]:[-y/u,x/u,0,x]}return{x:D,y:B,w:z,h:v,tw:r*u,th:w*u,scale:u,matrix:C,draw:o.zip([t(z,r,E.x||0.5),t(v,w,E.y||0.5)])}}function h(E,v,w){var u=w.scale,A=w.draw,F=v.naturalWidth,y=v.naturalHeight,s=A[0],r=A[1],t=A[2],D=A[3],B=A[4],z=A[5],C=A[6],x=A[7];if(g.ios){E.save();E.translate(B,z);E.beginPath();E.rect(0,0,C,x);E.clip();E.drawImage(v,-s/t*C,-r/D*x,F*u,y*u);E.restore()}else{E.drawImage.apply(E,[v].concat(A))}}var k=i.scale={cover:function(u,s,r,t){return r/t<u/s?t/s:r/u},contain:function(u,s,r,t){return r/t<u/s?r/u:t/s},y:function(u,s,r,t){return t/s}};i.cover=function(r){return i({s:j,d:r,scale:k.cover})};i.y=function(r){return i({s:j,d:r,scale:k.y})};i.cover504=function(r){return i({s:n,d:r,scale:k.cover})};i.drawImage=h;d["23"]=i});d(function(){var k=d["8"],o=d["6"],r=o.px,x=d["2"],h=x.insert,q=d["22"],w=q.Font,s=d["23"],t=d["14"],n=d["16"],v=d["19"];function m(y){return function(z){return x.insert(y.apply(null,arguments),{dataSource:z?z.dataSource:null})}}var u=d["24"].Frame=m(function(y,z){return y.fail?p(y,z):{width:z.w,height:z.h,element:function(){y=y.cloneNode(false);if(t.android){o(y,{height:o.px(z.th),"margin-left":o.px(z.x),"margin-top":o.px(z.y)})}else{o(y,"transform-origin","0 0");o.transform(y,o.matrix(z.matrix))}return k("div",{css:{overflow:"hidden"},children:y})},draw:function(A){s.drawImage(A,y,z)}}});function p(z,y){var A=n.imageNotFound;if(z.fail==="fatal"){throw new Error()}return z.fail!=="empty"&&y.w&&y.h?u(A,s({s:A,d:y,scale:function(){return Math.min(0.5,y.w/A.fullWidth*0.3,y.h/A.fullHeight*0.3)}})):{width:0,height:0,element:function(){return k("div")},draw:function(){}}}d["24"].Image=m(function(B,z){var A=x.is.Number(z)?{w:B.w*z,h:B.h*z}:z,C=A.w,y=A.h;return B.fail?p(B,A):{width:C,height:y,element:function(){return B.cloneNode(true)},draw:function(D){D.drawImage(B,0,0,C,y)}}});d["24"].Cover=m(function(z,y){return u(z,s({s:{w:z.fullWidth,h:z.fullHeight},d:y,scale:s.scale.cover}))});d["24"].Canvas=function(y){return{width:y.logicalWidth,height:y.logicalHeight,element:function(){return y},draw:function(z){z.drawImage(y,0,0,y.width,y.height,0,0,y.logicalWidth,y.logicalHeight)}}};d["24"].Border=function(D,B){var A=B.width||0,E=B.color||"transparent",z=B.radius||0,C=D.width,y=D.height;return{dataSource:D.dataSource,width:C+A,height:y+A,element:function(){var F=k(v.contentToElement(D),{css:{overflow:"hidden","box-sizing":"border-box",border:["solid",r(A),E].join(" "),"border-radius":r(z)}}),G=F;if(t.android&&F.querySelector("img")){G=k("div",[F]);o.size(F,C+A,y+A)}return G},draw:function(F){F.save();if(z){F.beginPath();F.moveTo(z,0);F.lineTo(C-z,0);F.arcTo(C,0,C,z,z);F.lineTo(C,y-z);F.arcTo(C,y,C-z,y,z);F.lineTo(z,y);F.arcTo(0,y,0,y-z,z);F.lineTo(0,z);F.arcTo(0,0,z,0,z);F.clip()}F.save();F.translate(A,A);D.draw(F);F.restore();if(A){F.fillStyle=E;F.fillRect(0,0,C,A);F.fillRect(0,0,A,y);F.fillRect(C,0,A,y+A);F.fillRect(0,y,C+A,A)}F.restore()}}};d["24"].Mask=function(B,z){var A=B.width,y=B.height;return{dataSource:B.dataSource,width:A,height:y,element:function(){var C=k(v.contentToElement(B),{css:{overflow:"hidden","box-sizing":"border-box","mask-image":o.url(z.src),"mask-size":"100% 100%"}}),D=C;if(t.android){D=k("div.mask",[C]);o.size(C,A,y)}D.mask=z.src;return D},draw:function(D){var E=n.Canvas(A,y,1),C=E.context;B.draw(C);C.globalCompositeOperation="destination-in";C.drawImage(z,0,0,A,y);D.drawImage(E,0,0,A,y)}}};d["24"].Rect=function(A,y,z){return{width:A,height:y,element:function(){return k("div",{css:{background:z||"transparent"}})},draw:function(B){if(z){B.fillStyle=z;B.fillRect(0,0,A,y)}}}};d["24"].Circle=function(z,y){return{width:z*2,height:z*2,element:function(){return k("div",{css:{"border-radius":r(z),background:y||"transparent"}})},draw:function(A){if(y){A.save();A.beginPath();A.arc(z,z,z,0,2*Math.PI);A.closePath();A.fillStyle=y;A.fill();A.restore()}}}};function j(z){var y=document.createElement("canvas");z(y.getContext("2d"))}function i(A){var z=A.length,B=0;for(var y=0;y<z;y++){if(A.charCodeAt(y)>128){B+=2}else{B+=1}}return B}function g(D,C){var A=D.length,B=A,z=0;for(var y=0;y<A;y++){if(D.charCodeAt(y)>128){if(z+2<=C){z+=2}else{B=y;break}}else{if(z+1<C){z+=1}else{B=y;break}}}return B}function l(D,A,C){var B=C.fontSize;var z=C.kahn1990_str_lang||false;var E=(z==false)?(B+2):(B+4)*Math.floor(i(D)/z);function y(H,F){H.font=w(C);H.textBaseline="middle";H.fillStyle=C.color;var G=D.length;(z==false)?function(){H.fillText(D,0,F/2<<0)}():function(){for(var J=1;J<=G;J++){var I=g(D,z);H.fillText(D.substr(0,I),0,(F*(J-1)+F/2));D=D.substr(I)}}()}return{width:A,height:B,element:function(){var F=n.Canvas(A+4,E),G=F.context;G.translate(2,0);y(G,B+4);return k("div",[k(F,{css:{"margin-left":"-2px","margin-top":"-2px"}})])},draw:function(F){y(F,B)}}}d["24"].Label=m(function(D,C){D=D.toString();var B=C.fontSize;var y=C.kahn1990_str_lang||false;var z=C.width=="false"?q.measureText(D,C).width:C.width;var A=l(D,z,C);A.height=(y==false)?(B+2):(B+4)*Math.floor(i(D)/y);return A});d["24"].LineText=m(function(B,A){B=B.toString();var y=A.width,z="";j(function(E){function C(F){return E.measureText(F).width}E.font=w(A);if(A.overflow&&C(B)>y){for(var D=0;D!==B.length;++D){if(C(B.substring(0,D+1)+"…")>y){break}}z=B.substring(0,D)+"…"}else{z=B}});return l(z,y,A)});d["24"].BlockText=m(function(A,z){A=A.toString();var y=q.layText(A,z.width,h(z,{lineBreak:z.breakWord?q.LineBreak.breakAll:q.LineBreak.normal,align:z.breakWord?q.Align.left:q.Align.side}));return{width:z.width,height:y.height,draw:function(B){q.drawTextLayout(B,y)}}})});d(function(){var o=d["17"],n=d["1"],m=d["6"],g=d["14"],p=d["19"],i=d["24"],j=d["23"];function l(q){g.chuye&&g.mi4?setTimeout(q,30):q()}function h(r,s){var q=j.cover504(r);if(s){p.Component(i.Cover(s,r),r)}return{scale:q.scale,image:function(u,t){return p.Component(i.Image(u,q.scale),t)},x:function(t){return o.transform(q.matrix,[t,0,1])[0]},y:function(t){return o.transform(q.matrix,[0,t,1])[1]}}}function k(q){return m(q,{position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%,-50%,0)"}).element}d["25"].cutPage=l;d["25"].layout504=h;d["25"].staticCenter=k});d(function(){var m=d["8"],G=d["2"],A=d["11"],n=d["4"],r=d["1"],u=d["6"],B=d["14"],E=B.chuye?5:8,v=false,q=500,s=0,C=[],i=A.onMoveUp,x=A.onPointerMove,y=A.onPointerUp,w={},k,h=false,z=false;A.onPointerDown(document,function(I){var H=true;m.bubble(I.origin.target,function(J){if(J.classList.contains("need-default")){H=false}});if(s===0){s=1}else{if(s===1){s=2}}H&&I.preventDefault()},true);y(document,function(){r.foreach(C,function(H){H.remove()});s=0;C=[]},true);function t(I,H){I.style&&u(I,"pointer-events","auto");return A.onPointerDown(I,function(J){var K=m.bind(J.origin.target,"DOMNodeRemovedFromDocument",function(){K.remove();s=0});C.push(K);if(s!==2){H(J)}})}function o(){var I=0,H=0,J={track:function(L){I+=L.dX;H+=L.dY;var K=Math.abs(I)>E,M=Math.abs(H)>E;J.dX=I;J.dY=H;J.xOut=K;J.yOut=M;J.out=K||M}};return J}function p(K,J){var I=o(),H=i({onMove:function(M){I.track(M);if(I.out){H.remove();K&&K({xOut:I.xOut,yOut:I.yOut,dX:I.dX,dY:I.dY})}},onUp:function(){L&&clearTimeout(L)}}),L=J?null:setTimeout(function(){s=0;H.remove()},q);return{remove:function(){H.remove();L&&clearTimeout(L)}}}function D(I,H){return t(I,function(){p(H)})}y(document,function(){v=false;h=false;z=false});function g(K){var J=o(),M=y(document.documentElement,function(N){if(!v){K&&K(N);v=true}}),L=setTimeout(function(){M.remove();I.remove()},q),I=i({onMove:function(N){J.track(N);if(J.out){H()}},onUp:H});function H(){I.remove();clearTimeout(L);M.remove()}return{remove:H}}function F(I,H){return t(I,function(){g(H)})}function l(K){var J=o(),L=setTimeout(function(){I.remove();K&&K()},q),I=i({onMove:function(M){J.track(M);if(J.out){H()}},onUp:H});function H(){I.remove();clearTimeout(L)}return{remove:H}}function j(H){H=H||document.documentElement;H.classList.add("lock");return{remove:function(){H.classList.remove("lock")}}}k=function(){var H,I;return function(K,J){if(!H){H=m("div.msg-box",{css:{transform:B.chuyeList?"translate3d(0,50%,0)":undefined,bottom:B.chuyeList?"50%":u.px(40)}},document.body);I=m("div.msg",H)}I.innerHTML=K;m.classList(H).remove("remove").add("show");n.once(function(){m.classList(H).add("remove").remove("show")},function(L){return[t(document,L),n.setTimeout(L,J||2000)]})}}();Object.defineProperties(w,{preventBodyEvent:{get:function(){return h},set:function(H){h=H}},preventDrag:{get:function(){return z},set:function(H){z=H}}});m.onBubble("focusin",function(H){H.classList.add("focus")});m.onBubble("focusout",function(H){H.classList.remove("focus")});d["26"]=G.insert(w,{onPointerDown:t,onPointerMove:x,onPointerUp:y,onMoveUp:i,onSwipeStart:D,onSwipe:p,onLongPress:l,onTap:F,onTapUp:g,alert:k,Lock:j})});d(function(){var v=d["6"],E=d["10"],n=d["4"],F=d["2"],t=d["1"],p=d["9"],m=d["8"],C=d["14"],o=d["16"],x=d["26"],h=false,D=z("open-in-browser");if(D){var q=m("div",{css:v.full({"background-color":"rgba(0,0,0,0.88)","z-index":100000}),children:[o(o.staticSrc([D,"-",C.ios?"ios":"android",".png"].join("")),{onLoad:function(G){q.appendChild(m(G,{css:{position:"absolute",top:0,right:0,width:v.px(G.halfWidth)}}))}})]},document.body);x.onTap(q,function(){m.remove(q)})}function r(){return location.origin+location.pathname}function i(){window.curWork&&sessionStorage.setItem(r(),JSON.stringify({pageIndex:curWork.curPageIndex,workData:curWork.workData}))}function l(G,H){if(window.firstpage&&firstpage.open){firstpage.open(p.toAbsolute(G))}else{!H&&i();location.href=G}}function z(H,G){var I=sessionStorage.getItem(H);sessionStorage.removeItem(H);return I===null?G:I}function j(){var G=m("div",{css:v.full({overflow:"hidden","z-index":1001})}),I=n.Event(),H=n.Event();x.onPointerDown(G,function(){x.preventBodyEvent=true});return F.insert(G,{onSlideIn:I.regist,onSlideOut:H.regist,slideIn:function(L,J){G.isIn=true;if(!J){var K=x.Lock();v(G,"visibility","hidden");setTimeout(function(){v(G,"visibility","visible");E.runAnimation([G,{0:{transform:"translate3d(100%, 0, 0)"}},0.4],function(){I.trig();K.remove()})},0)}G.slideOut=function(){var M=x.Lock();H.trig();E.runAnimation([G,{100:{transform:"translate3d(100%, 0, 0)"}},0.4],function(){M.remove();m.remove(G)});G.isIn=false};L.appendChild(G)}})}function k(H,I,G){return k[H]=function(J){if(h){return}J=J||{};function K(){var L=j();G(L,J.data);L.slideIn(J.parent,J.noAnimate)}if(J.debug){K()}else{if(!I){x.alert("当前环境不支持该操作")}else{if(I.canNotLogin){I.canNotLogin()}else{if(!J.force&&(J.noLog||I.isLogIn())){J.onLogin?J.onLogin(K):K()}else{i();sessionStorage.setItem("login-data",JSON.stringify({name:H,data:J.data}));h=true;I.logIn({returnUrl:location.href,onLogIn:function(){sessionStorage.removeItem(r());sessionStorage.removeItem("login-data");h=false;K()}});if(h){x.alert("登录中,请稍候")}}}}}}}function u(H,G,I){i();sessionStorage.setItem("open-in-browser",H);location.hash="g:"+(C.ios?G:I);location.reload()}function A(G){l("/report.html#"+G)}function g(G){u("follow","Cloud7Chuye://users/"+G,p.concatArg("chuye://chuye.cloud7.com.cn/user",{id:G}))}function B(H,G){u("open-in-client","ChuyeWatch://work/"+H,p.concatArg("chuye://chuye.cloud7.com.cn/user",{userId:G,workId:H}))}function y(G){}function w(G){if(C.chuye){x.alert("您正在使用初页")}else{y([G||"Download","Click",C.systemName]);if(C.android){location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.cloud7.firstpage"}else{if(C.ios){location.href=C.MicroMessenger?"http://a.app.qq.com/o/simple.jsp?pkgname=com.cloud7.firstpage":"https://itunes.apple.com/cn/app/chu-ye/id910560238?mt=8"}else{l("http://www.cloud7.com.cn/chuye")}}}}function s(G,H){n.polling(function(){return !!window.firstpage},function(){if(C.ios&&!C.win32){t.foreach(G,function(I){firstpage[I]=function(){document.location="chuyeapp:"+I+":"+Array.prototype.slice.call(arguments,0).join("$")}})}H&&H()})}d["27"].workLocation=r;d["27"].saveViewContext=i;d["27"].jump=l;d["27"].registLoginPage=k;d["27"].getSessionData=z;d["27"].SlidePage=j;d["27"].report=A;d["27"].follow=g;d["27"].openInClient=B;d["27"].downloadFirstPage=w;d["27"].track=y;d["27"].useClient=s});d(function(){var g=d["2"],m=d["1"],l=d["8"],h=d["14"],i=d["27"],j={};function k(){function n(q,p){var o={title:j.title,link:j.url,imgUrl:j.picture,success:function(){var r=new XMLHttpRequest();r.open("post",virtualPath+"/Work/Share",true);r.send(null);i.track(["Share",q])}};return p?o:g.extend(o,{desc:j.desc})}if(window.wx&&j.title!==undefined){wx.onMenuShareTimeline(n("TimeLine",true));wx.onMenuShareAppMessage(n("AppMessage"));wx.onMenuShareQQ(n("QQ"));wx.onMenuShareWeibo(n("Weibo"))}}if(h.MicroMessenger&&window.wxConfig){l("script",{src:"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",onload:function(){wx.ready(function(){k();wx.getNetworkType({success:function(n){h.networkType=n.networkType}})});wx.config(g.extend(window.wxConfig,{debug:false,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","getNetworkType"]}));this.onload=null}},document.head)}d["28"]=function(n){j=n;n.title&&(document.title=n.title);k()}});d(function(){var k=d["8"],p=d["6"],s=d["11"],v=d["10"],y=d["2"],g=y.insert,l=d["16"],q={100:{transform:"rotateZ(360deg)"}};function m(){return k("div",{css:{position:"absolute",left:"50%",top:"50%",width:"34px",height:"34px","margin-left":"-17px","margin-top":"-17px","z-index":"1000"},children:[k(l.Icon("loading-o"),{css:{position:"absolute",left:0,top:0}}),k(l.Icon("loading-c"),{css:{position:"absolute",left:0,top:0,animation:v.animation([q,1.1,"linear","infinite"])}})]})}function i(){var A=k("div",{classList:"tips",css:{position:"absolute",top:0,right:0,width:"40px",height:"40px","z-index":1000},children:[k("div",{css:{position:"absolute",left:"-20px",top:0,right:0,bottom:"-20px"}})]}),z=k(l.Icon("music"),{css:{"border-radius":"20px",border:"2px solid rgba(130, 170, 118, 0.6)"}},A);p(z,g(p.center(z.w),p.middle(z.h)));y.defineAutoProperty(A,"play",{value:false,set:function(B){if(B){v.runAnimation([z,q,2.3,"linear","infinite"])}else{p.remove(z,"animation")}}});return A}function w(){return k(l.Icon("album"),{classList:"tips",css:{position:"absolute",top:"14px",right:"14px",animation:v.animation([q,2.3,"linear","infinite"]),"z-index":1000}})}function j(){return k(l.Icon("loading-new-page"),{css:{display:"inline-block","vertical-align":"top",animation:v.animation([q,1.3,"linear","infinite"])}})}function u(){return k("div",{classList:"tips",css:{position:"absolute",left:"0",right:"0",bottom:"8px",height:"20px","z-index":"10","line-height":"20px","text-align":"center","pointer-events":"none"},children:[j(),k("div",{css:{display:"inline-block","vertical-align":"top","margin-left":"12px",color:"#888888","font-size":"14px"},innerHTML:"加载新页中"})]})}function x(){var z=l.Icon("loading-new-page");return p(z,y.extend({position:"absolute",animation:v.animation([q,1.3,"linear","infinite"])},p.center(z.w),p.middle(z.h))).element}function t(z){return z?k("div",{classList:["tips","switch"],css:{position:"absolute",left:"50%",bottom:"100px","z-index":"100","pointer-events":"none"},children:[k("div",{innerHTML:"点击页面",css:{position:"absolute",top:"-30px","font-size":"12px",color:"white",width:"100px","text-align":"center","margin-left":"-50px"}}),k("div",{css:{height:"32px",width:"32px","border-radius":"32px",background:"#4c4236",position:"absolute",top:"0",left:"50%","margin-left":"-16px",animation:v.animation([{0:{transform:"scale(.9)",opacity:1},100:{transform:"scale(1.3)",opacity:0}},1.7,"infinite"])}}),k("div",{css:{height:"18px",width:"18px","border-radius":"18px",background:"#d75b41",position:"absolute",top:"7px",left:"50%","margin-left":"-9px","z-index":3,animation:v.animation([{50:{transform:"scale(0.7)"}},1.7,"infinite"])}}),k(l.Icon("tips-click-first"),{css:{position:"absolute",left:"50%",top:"16px","z-index":"4"}})]}):k(l.Icon("tips-push-first"),{classList:["tips","switch"],css:{position:"absolute","margin-left":"-32px",left:"50%",bottom:0,"z-index":10,"pointer-events":"none",animation:v.animation([{0:{opacity:0,transform:"translate3d(0, 60px, 0)"},80:{opacity:0.5}},2.5,"infinite"])}})}function n(z){return z?k("div"):k(l.Icon("tips-push"),{classList:["tips","switch"],css:{position:"absolute",bottom:"45px",left:"50%","margin-left":"-8px","z-index":10,"pointer-events":"none",animation:v.animation([{0:{transform:"translate3d(0, 42px, 0)",opacity:0},60:{transform:"translate3d(0, 12px, 0)",opacity:1},100:{opacity:0}},1.5,"infinite"])}})}function r(){var z=k(l.Icon("powered-by"),{css:{position:"absolute",bottom:0,left:0}});return k("div.powered-by",{css:g({height:"44px",bottom:0,"z-index":10000},p.center(z.w)),children:[z]})}function h(z){return k(l.Icon("tips-scratch"),{css:{position:"absolute","margin-left":"-65px",left:"50%",bottom:"50px","z-index":1001,"pointer-events":"none",animation:v.animation([{0:{opacity:0}},1.4])}},z||document.body)}function o(){document.documentElement.classList.add("hide-tips");return{remove:function(){document.documentElement.classList.remove("hide-tips")}}}d["29"].LoadingButton=x;d["29"].Loading=m;d["29"].LoadingChrysanthemum=j;d["29"].Music=i;d["29"].Album=w;d["29"].LoadingNewPage=u;d["29"].CutFirst=t;d["29"].Cut=n;d["29"].PoweredBy=r;d["29"].Scratch=h;d["29"].hide=o});d(function(){var q=d["13"],p=d["9"],k=d["2"],n=d["1"],j=d["4"],i=d["0"],m=d["6"],o=d["29"],s=d["28"],h=d["14"],g=p(location.href),l=[];g=g.arg.returnUrl||g;function r(v,x,t){t=t||{};v=p(v);var w=n.top(v.pathname.split("/"));function u(){var y=n.findFirst(l,function(z){return z.id===w});return y?y.data:null}i.callWith(function(z){var y=window.workData||u();delete window.workData;y?z(y):q({url:v},function(A,D){var B;try{B=JSON.parse(D.responseText)}catch(C){B={code:1500}}l.push({id:w,data:B});l.length>100&&l.unshift();z(B)})},function(B){var C,z=B.data||B;if(B.code&&B.code!==200){C={error:B.code}}else{var y=n.map(z.pages,function(E){return E.layout}),A=false;if(z.copyright&&!t.noAuthor){var D={label:"author",data:{uid:z.uid}};y.push(D)}else{A=true}C={cut:z.cut||(window.fast?false:undefined),picture:z.thumbnail,title:z.title,url:g.origin+g.pathname,desc:z.description||"",uid:z.uid,theme:z.theme,mode:z.mode,color:z.backgroud?z.backgroud.color==="FFFFFF"?"#FFFFFF":z.backgroud.color:"#FFFFFF",pageSwitch:z.pageSwitch?z.pageSwitch.animateId||"classic":"classic",music:z.music,pages:y,noLoop:A}}x(k.insert(C,{id:w,data:B}))});return w}d["30"]=r});d(function(){function g(o){return o>=0?1:-1}function n(r,q,p,t,s,o){r-=p;q-=t;return r>=0&&r<s&&q>=0&&q<o}function h(p,q,o){if(q<=o){return p<q?q:p>o?o:p}else{return h(p,o,q)}}function l(p,q,o){if(q<=o){return p>=q&&p<o}else{return l(p,o,q)}}function m(o,p){return Math.sqrt(o*o+p*p)}function k(o,p){return o/m(o,p)}function j(q,s,p,r,t){var o=0.0001,u=t||function(w){function y(G,F,E){var C=1-G,H=C*C,B=G*G,A=B*G,D=G*H,z=B*C;return 3*F*D+3*E*z+A}function x(z,B,A){return(9*B-9*A+3)*z*z+(6*A-12*B)*z+3*B}var v=0.5;while(Math.abs(w-y(v,q,p))>o){v=v-(y(v,q,p)-w)/x(v,q,p)}return y(v,s,r)};u.arg=[q,s,p,r];return u}function i(p,o){return((p%o)+o)%o}d["31"].sign=g;d["31"].inRect=n;d["31"].range=h;d["31"].inRange=l;d["31"].distance=m;d["31"].sin2=k;d["31"].Bezier=j;d["31"].index=i});d(function(){var r=d["31"],j=r.Bezier,o=d["1"],m=d["2"],i=d["3"],p=null,n=i(),l={linear:j(1,1,1,1,function(s){return s}),ease:j(0.25,0.1,0.25,1),easeIn:j(0.42,0,1,1),easeOut:j(0,0,0.58,1),easeInOut:j(0.42,0,0.58,1)};function g(u,t,s){return u+(t-u)*s}function k(s){var t=null;function u(){if(t===null){t=n.insert(s,null);if(p===null){p=setTimeout(function v(){var w;if(n.tail()!==null){p=setTimeout(v,1000/60);for(w=n.head();w!==null;w=w.next){w()}}else{p=null}},1000/60)}}}u();return{start:u,remove:function(){t&&n.remove(t);t=null}}}function q(s){var w=(s.duration||1)*1000,u=s.timing||l.ease,t=-(s.delay||0)*1000,v=new Date();return{ratio:function(){var x=new Date();t+=x-v;v=x;return t<0?null:u(t>=w?1:t/w)},isEnd:function(){return t>=w},progress:function(x){t=x*w;v=new Date()}}}function h(s){var u=q(s),v=s.onAnimate;function w(){t.remove();s.onAnimate(1);s.onEnd&&s.onEnd()}v(0);var t=k(function(){v(u.ratio());if(u.isEnd()){w()}});return{remove:t.remove,progress:u.progress,fastForward:w}}d["32"].Bezier=j;d["32"].Timing=l;d["32"].fromTo=g;d["32"].requestFrame=k;d["32"].Progress=q;d["32"].requestFrames=h});d(function(){var k=d["0"],l=d["1"],g=d["2"],j=[24,14,108,51,101,49,48,85,81,41,70,99,106,88,50,102,43,64,47,7,26,90,31,39,19,2,89,0,3,1,36,67,13,73,97,23,65,86,95,37,80,11,59,107,29,96,60,6,66,9,42,93,46,5,45,78,103,54,77,40,68,74,35,53,18,94,16,21,28,72,61,87,17,38,56,58,82,79,83,57,27,63,92,8,30,10,33,55,44,98,22,71,52,75,25,32,62,15,84,34,20,104,12,100,109,76,4,69,105,91],i=j.length;function h(m){var n=m===undefined?function(){return Math.random()}:function(){var o=m%i;return function(){return j[(++o%i)]/i}}();return g.insert(n,{select:function(o){return o[n()*o.length<<0]},arrange:function(q){var p=[],o=q.length;q=l.map(q,function(r){return r});k.loop(o,function(s){s=o-s-1;var r=n()*s<<0;p.push(q[r]);q[r]=q[s]});return p},range:function(p,o){return p+n()*(o-p)},probability:function(o){return n()<o}})}d["33"]=g.insert(h(),{Random:h})});d(function(){var q=d["1"],g=d["5"],z=d["2"],l=d["8"],x=d["32"],h=d["33"],r=d["6"],k=d["31"],n=d["0"],m=d["4"],v=d["19"],i=d["29"],j=d["25"],w=d["27"],u=d["14"],t=d["26"],p=d["16"],o={},s;function y(B){var F=B.width,A=B.height,E=l("div",{css:{overflow:"hidden",background:"#000000","z-index":1}}),D=m.Schedule(),C=m.Schedule(),H=E.appendChild(i.Loading()),G=null;r.size(E,E.w=F,E.h=A);E.onLoad=m.Waiter(function(I){n.callWith(function(J){if(B.workData){var K=E.workData=B.workData;E.workId=K.id;J(K)}else{E.workId=B.loadWork(function(L){E.workData=L;J(L)})}},function(K){if(K.error){var L,N;switch(K.code){case 1401:L=1401;N="您没有权限查看该作品";break;case 1500:L=1500;N="哎呀,页面出错了,一会再来吧";break;default:L=500;N="抱歉,您访问的页面已失踪";break}E.loadError=true;E.workTitle=N;p.pageError(E,L+".png")}else{window.debugWorkData&&z.insert(K,window.debugWorkData);G=o[K.mode=window.mode||K.mode||"classic"](E,B);G.doData&&G.doData();E.workTitle=K.title;E.random=h.Random(K.seed||K.id||0);E.pageNumber=K.pages.length;D.prepare(function(){G.play()});C.prepare(function(){G.preloadPage()});var M=q.map(K.pages,function(Q,P){var O={data:{},load:m.Loader(function(R){v.loadPage(z.extend(K,Q),function(S){O.create=function(T){return l(S(F,A,O.data,T?null:E),{pid:Q.pid,index:P,css:{position:"absolute",left:0,top:0}})};R()})}).load};return O});E.loadPage=function J(O,Q,P){var R=M[O];R?R.load(function(){Q&&Q(P!==false?M[O].create():null)}):Q&&Q()}}I()})}).onComplete;E.onPageLoad=m.Waiter(function(I){E.onLoad(function(){n.callWith(function(J){E.loadError?J():G.load(J)},function(){I();l.remove(H)})})}).onComplete;return z.insert(E,{recycle:function(){G&&G.recycle()},play:function(){s=E;D.start()},preloadPage:function(){C.start()},resize:function(J,I){r.size(E,E.w=F=J,E.h=A=I);G&&G.resize(J,I)}})}y.Modes=o;d["34"]=y});d(function(){var n={},m=d["6"],i=d["10"],h=d["0"],k=d["8"],o=d["1"],l=d["16"],g=d["14"],p=m.px;function j(w,t,u,s,q,A,B){var r=l.Canvas(q,A),z=r.context,v=r.dpr;z.drawImage(t,u*v,s*v,q*v,A*v,0,0,q,A);m(r,{"backface-visibility":"hidden",position:"absolute",left:p(u),top:p(s),"z-index":B||0});w.appendChild(r);return r}n.fade=function(r,s,q,u,t){t=t||0.8;r.appendChild(q);return i.runAnimation([[s,{100:{opacity:0}},t,0,"linear"],[q,{0:{opacity:0}},t,0,"linear"]],u)};n.classic=function(r,s,q,t){r.appendChild(q);return i.runAnimation([[s,{100:{transform:"translate3d(0, -30%, 0) scale(0.5)"}},0.8,0],[q,{0:{transform:"translate3d(0, 100%, 0)"}},0.8,0]],t)};n.push=function(r,s,q,u,t){t=t||0.8;r.appendChild(q);return i.runAnimation([[s,{100:{transform:"translate3d(0, -100%, 0)"}},t,"ease-in-out",0],[q,{0:{transform:"translate3d(0, 100%, 0)"}},t,"ease-in-out",0]],u)};n.back=function(r,s,q,u,t){t=t||0.5;r.appendChild(q);return i.runAnimation([[s,{100:{transform:"translate3d(0, 100%, 0)"}},t,"ease-in-out",0],[q,{0:{transform:"translate3d(0, -100%, 0)"}},t,"ease-in-out",0]],u)};n.uncover=function(r,s,q,t){m(s,"z-index",100);r.appendChild(q);return i.runAnimation([[s,{100:{transform:"translate3d(0, -100%, 0)"}},0.8,0]],t)};n.cube=function(r,s,q,u){r.appendChild(q);var t=m(r,{perspective:1000});return i.runAnimation([[s,{0:{"transform-origin":"50% 100%","z-index":2},100:{"transform-origin":"50% 100%",transform:"translate3d(0, -100%, 0) rotateX(90deg)","z-index":0}},1,0,"linear"],[q,{0:{"transform-origin":"50% 0%",transform:"translate3d(0, 100%, 0) rotateX(-90deg)","z-index":0},100:{"transform-origin":"50% 0%","z-index":1}},1,0,"linear"]],function(){t.remove();u&&u()})};n.overturn=function(r,s,q,u){r.appendChild(q);var t=m(r,{perspective:1000});return i.runAnimation([[s,{0:{"transform-origin":"0 50%","z-index":2},50:{"transform-origin":"0 50%",transform:"translate3d(50%, 0, 100px) rotateY(90deg)","z-index":1},100:{"transform-origin":"0 50%",transform:"translate3d(100%, 0, 0) rotateY(180deg)","z-index":0}},1,0,"linear"],[q,{0:{"transform-origin":"100% 50%",transform:"translate3d(-100%, 0, 0) rotateY(180deg)","z-index":0},50:{"transform-origin":"100% 50%",transform:"translate3d(-50%, 0, 100px) rotateY(270deg)","z-index":0.5},100:{"transform-origin":"100% 50%",transform:"translate3d(0, 0, 0) rotateY(360deg)","z-index":1}},1,0,"linear"]],function(){t.remove();u&&u()})};n["switch"]=function(r,s,q,u){r.appendChild(q);var t=m(r,{perspective:1000});return i.runAnimation([[s,{0:{"transform-origin":"100% 50%","z-index":2},50:{"transform-origin":"100% 50%",transform:"translate3d(50%, 0, 0) rotateY(-30deg)","z-index":1},100:{"transform-origin":"100% 50%",transform:"translate3d(0, 0, -130px)","z-index":0}},1,0,"linear"],[q,{0:{"transform-origin":"0 50%",transform:"translate3d(0, 0, -130px)","z-index":0},50:{"transform-origin":"0 50%",transform:"translate3d(-50%, 0, 0) rotateY(30deg)","z-index":0.5},100:{"transform-origin":"0 50%","z-index":1}},1,0,"linear"]],function(){t.remove();u&&u()})};n.tease=function(v,t,r,w){var y=t.h,q=t.w,x=t.toCanvas(),s=y/8<<0,u=[];k.remove(t);v.appendChild(r);h.loop(8,function(A){var C=A===7?y-s*7:s,B=A===7?y-C:C*A,z=7-A;u.push([j(v,x,0,B,q,C,1),z%2===0?{100:{transform:"translate3d(-100%, 0, 0)"}}:{100:{transform:"translate3d(100%, 0, 0)"}},0.3,z*0.1,"linear"])});return i.runAnimation(u,function(){o.foreach(u,function(z){k.remove(z[0])});w&&w()})};n.door=function(v,t,q,y){var x=t.w,s=t.h,z=t.toCanvas(),r=m(v,{perspective:1000}),u=[];k.remove(t);v.appendChild(q);o.foreach([0,0.5],function(w){u.push(j(v,z,w*x,0,x/2,s,1))});return i.runAnimation([[u[0],{100:{transform:"translate3d(-100%, 0, 0)",opacity:0.4}},0.8,0],[u[1],{100:{transform:"translate3d(100%, 0, 0)",opacity:0.4}},0.8,0],[q,{0:{transform:"translate3d(0, 0, -1400px)"}},0.8,0]],function(){r.remove();o.foreach(u,function(w){k.remove(w)});y&&y()})};n.door.highPerformance=true;n.flipOver=function(z,x,s,A){var q=x.w,C=x.h,B=x.toCanvas(),v=s.toCanvas(),u=m(z,{perspective:1000}),t=j(z,B,0,0,q,C/2,1),y=j(z,B,0,C/2,q,C/2,1),w=j(z,v,0,0,q,C/2,2),r=j(z,v,0,C/2,q,C/2,0);k.remove(x);return i.runAnimation([[y,{0:{"transform-origin":"50% 0","z-index":3},100:{"transform-origin":"50% 0",transform:"rotateX(180deg)","z-index":1}},0.8,0],[w,{0:{"transform-origin":"50% 100%",transform:"rotateX(-180deg)","z-index":1},100:{"transform-origin":"50% 100%",transform:"rotateX(0deg)","z-index":2}},0.8,0]],function(){u.remove();o.foreach([t,y,w,r],function(D){k.remove(D)});A&&A()})};n.flipOver.highPerformance=true;n.chessboard=function(z,x,q,B){var A=x.w,v=x.h,C=x.toCanvas(),u=q.toCanvas(),s=m(z,{perspective:1000}),F=g.ios?4:2,E=g.ios?5:3,D,y=[],r=0;k.remove(x);if(A>v){D=F;F=E;E=D}h.loop(F,function(w){var t=(w+1)/F*A<<0,G=0;h.loop(E,function(K){var I=(K+1)/E*v<<0,L=t-r,H=I-G,J=0.8/F*w+Math.random()*0.4;h.loop(2,function(M){y.push([j(z,M===0?C:u,r,G,L,H,2-M),M===0?{0:{"z-index":2},100:{transform:"rotateY(180deg)","z-index":0}}:{0:{transform:"rotateY(180deg)","z-index":0},100:{transform:"rotateY(360deg)","z-index":1}},0.8,J,"linear"])});G=I});r=t});return i.runAnimation(y,function(){s.remove();o.foreach(y,function(t){k.remove(t[0])});B&&B()})};n.chessboard.highPerformance=true;d["35"]=n});d(function(){var i=d["31"],k=d["1"],g=d["19"],h=d["17"];function j(o,m,l){return o>=Math.min(m,l)&&o<=Math.max(m,l)}d["36"]=function(o,n){var v=n.w,p=n.h,x=o.w,m=o.h,u=g.getPageMatrix(o),t=h.transform(u,[x/2,m/2,1]),y=t[0],q=t[1],l=Math.sqrt(x*x+m*m)/2,s=[];if(!j(y,0,v)||!j(q,0,p)){return 1}k.foreach([[0,0],[x,0],[x,m],[0,m]],function(z){z=h.transform(u,z.concat(1));var r=z[0],w=z[1];k.foreach([[0,0,1,0],[0,0,0,1],[1,1,0,1],[1,1,1,0]],function(F){var C=F[0]*v,E=F[1]*p,B=F[2]*v,D=F[3]*p,H=(w-q)*(B-C)-(y-r)*(E-D),A=((r-y)*(B-C)*(E-q)+(w-q)*(B-C)*y-(D-E)*(r-y)*C)/H,G=-((w-q)*(D-E)*(C-y)+(r-y)*(D-E)*q-(B-C)*(w-q)*E)/H;if(H!==0&&j(A,r,y)&&j(A,C,B)&&j(G,w,q)&&j(G,E,D)){s.push(i.distance(A-y,G-q)/l);return true}})});return s.length===0?1:Math.min.apply(this,s)}});d(function(){var h=d["2"],j=d["32"],g={};function k(l){switch(l){case 3:return[-1,0];case 1:return[1,0];case 0:return[0,-1];case 2:return[0,1]}}function i(l){return l+"%"}g.FlyInto=function(m){var l=k(m);return{direction:m,progress:{"0":{x:l[0]*640,y:l[1]*800}}}};g.rubberBand={scale:true,progress:{"30":{scaleX:1.25,scaleY:0.75},"40":{scaleX:0.75,scaleY:1.25},"50":{scaleX:1.15,scaleY:0.85},"65":{scaleX:0.95,scaleY:1.05},"75":{scaleX:1.05,scaleY:0.95}}};g.tada={scale:true,timing:j.Timing.linear,progress:{"10 20":{scale:0.9,rotate:-3},"30 50 70 90":{scale:1.1,rotate:3},"40 60 80":{scale:1.1,rotate:-3}}};g.wobble={duration:0.8,progress:{"15":{x:"-25%",rotate:-5},"30":{x:"20%",rotate:3},"45":{x:"-15%",rotate:-3},"60":{x:"10%",rotate:2},"75":{x:"-5%",rotate:-1}}};g.shake={timing:j.Timing.linear,duration:1,progress:{"10 30 50 70 90":{x:-10},"20 40 60 80":{x:10}}};g.fallDownAndShake={duration:0.7,timing:j.Timing.easeOut,progress:{"0":{rotate:-15,y:-800},"40":{rotate:-15},"45":{rotate:13},"52":{rotate:-8},"62":{rotate:5},"74":{rotate:-3},"87":{rotate:1}}};g.bounceIn={duration:0.75,timing:j.Bezier(0.215,0.61,0.355,1),scale:true,progress:{"0":{opacity:0,scale:0.3},"20":{scale:1.1},"40":{scale:0.9},"60":{scale:1.03},"80":{scale:0.97}}};g.BounceFlying=function(m){var l=0,n=0;switch(m){case 3:l=1;break;case 1:l=-1;break;case 0:n=1;break;case 2:n=-1;break}return{timing:j.Bezier(0.215,0.61,0.355,1),duration:0.75,progress:{"0":{x:-3000*l,y:-3000*n},"60":{x:25*l,y:25*n},"75":{x:-10*l,y:-10*n},"90":{x:5*l,y:5*n}}}};g.swing={emphasize:true,origin:[0.5,0],progress:{"0 100":{rotate:0},20:{rotate:15},40:{rotate:-10},60:{rotate:5},80:{rotate:-5}}};g.flash={timing:j.Timing.linear,progress:{"0 66":{opacity:0},"33":{opacity:1}}};g.circleRound={scale:true,duration:0.6,progress:{0:{scale:0.001,opacity:0,rotate:180*2.5},100:{scale:1,rotate:0}}};g.roundFromFarAndNear={scale:true,timing:j.Timing.linear,durationCorrect:-0.2,progress:{"0":{scale:0.3,opacity:0,rotate:180*0.45}}};g.fadeIn={progress:{"0":{opacity:0}}};g.Emerge=function(m){var l=k(m===undefined?2:m);return{direction:m,progress:{"0":{x:l[0]*20,y:l[1]*20,opacity:0}}}};g.shrink={duration:0.6,timing:j.Bezier(0.52,0.21,0.8,0.51),progress:{"0":{scale:5,opacity:0}}};g.scale={scale:true,progress:{"0":{scale:0.001}}};g.overturn={progress:{"0":{perspective:400,opacity:-0.3,rotateY:180},100:{perspective:400}}};g.coin={progress:{"0":{rotateY:-720,perspective:400,opacity:0},"85":{rotateY:30,perspective:400},100:{rotateY:0,perspective:400}}};g.flip={emphasize:true,progress:{"0":{perspective:400,rotateY:-360,timing:j.Timing.easeOut},"40":{perspective:400,z:150,rotateY:-190,timing:j.Timing.easeOut},"50":{perspective:400,z:150,rotateY:-170,timing:j.Timing.easeIn},"80":{perspective:400,scale:0.95,timing:j.Timing.easeIn},"100":{perspective:400}}};g.FlipIn=function(n){var m=0,l=0;if(n==="x"){m=1}else{l=1}return{duration:0.8,progress:{"0":{opacity:0,perspective:400,rotateX:90*m,rotateY:90*l,timing:j.Timing.easeIn},"40":{perspective:400,rotateX:-20*m,rotateY:-20*l,timing:j.Timing.easeIn},"60":{perspective:400,rotateX:10*m,rotateY:10*l,timing:j.Timing.easeIn},"80":{perspective:400,rotateX:-5*m,rotateY:-5*l,timing:j.Timing.easeIn},"100":{perspective:400}}}};g.LightSpeedIn=function(n){var m=k(n),l=m[0],o=m[1];return{direction:n,progress:{"0":{opacity:0,x:l*100+"%",y:o*100+"%",skewX:l*-30,skewY:o*-30},"40":{skewX:l*20,skewY:o*20},"60":{skewX:l*-5,skewY:o*-5}}}};g.RotateIn=function(m){var l=0,n=0;switch(m){case 3:l=-1;n=-1;break;case 2:l=1;n=-1;break;case 0:n=1;l=-1;break;case 1:l=1;n=1;break}return{durationCorrect:-0.2,origin:[0.5+l*0.5,0.5+n*0.5],progress:{0:{opacity:0,rotate:l*n*45},100:{rotate:0}}}};g.ZoomIn=function(n){var m=k(n),l=m[0],o=m[1];return{scale:true,direction:n,progress:{"0":{opacity:0,scale:0.1,x:l*300,y:o*300,timing:j.Bezier(0.55,0.055,0.675,0.19)},"60":{scale:0.475,x:l*-1*10,y:o*-1*10,timing:j.Bezier(0.175,0.885,0.32,1)}}}};g.Wave=function(n){var m=k(n),l=m[0];return{direction:n,duration:2,timing:j.Timing.easeInOut,progress:{"0":{x:i(l*200),y:"-60%",opacity:0},10:{x:i(l*150),y:"50%"},20:{x:i(l*100),y:"-50%"},30:{x:i(l*50),y:"30%"},40:{x:i(l*30),y:"-20%"},50:{x:i(l*20),y:"10%"},60:{x:i(l*10),y:"-10%"},70:{x:i(l*8),y:"5%"},80:{x:i(l*6),y:"-3%"},90:{x:i(l*3),y:"1%"}}}};g.Creep=function(m){var l=k(m),n=l[1];return{direction:m,duration:2,timing:j.Timing.easeInOut,progress:{0:{y:i(n*100),opacity:0},25:{y:i(n*75),rotateX:180,opacity:0.5},50:{y:i(n*50),rotateX:360},75:{y:i(n*25),rotateX:540},100:{y:0,rotateX:720,opacity:1}}}};g.boomerang={duration:1,timing:j.Timing.easeIn,progress:{0:{x:"-200%",y:"-100%",rotate:0,scale:0.2,opacity:0},16:{x:"-150%",y:"-75%",rotate:180,scale:0.4},32:{x:"-100%",y:"-50%",rotate:360,scale:0.6},48:{x:"-50%",y:"-25%",rotate:540,scale:0.8},64:{x:0,y:0,rotate:720,scale:1},80:{x:"20%",y:"10%",rotate:900,scale:1.4},100:{x:0,y:0,rotate:1080,scale:1}}};g.table={"fly-into-left":g.FlyInto(3),"fly-into-top":g.FlyInto(0),"fly-into-right":g.FlyInto(1),"fly-into-bottom":g.FlyInto(2),"emerge-left":g.Emerge(3),"emerge-top":g.Emerge(0),"emerge-right":g.Emerge(1),"emerge-bottom":g.Emerge(2),scale:g.scale,"fade-in":g.fadeIn,"circle-round":g.circleRound,"round-from-far-and-near":g.roundFromFarAndNear,"curve-up":g.roundFromFarAndNear,"fall-down-and-shake":g.fallDownAndShake,shrink:g.shrink,flash:g.flash,shake:g.shake,wobble:g.wobble,tada:g.tada,"bounce-in":g.bounceIn,"bounce-in-down":g.BounceFlying(2),"bounce-in-up":g.BounceFlying(0),"bounce-in-left":g.BounceFlying(3),"bounce-in-right":g.BounceFlying(1),swing:g.swing,"rubber-band":g.rubberBand,overturn:g.overturn,coin:g.coin,flip:g.flip,"flip-in-x":g.FlipIn("x"),"flip-in-y":g.FlipIn("y"),"light-speed-in-top":g.LightSpeedIn(0),"light-speed-in-right":g.LightSpeedIn(1),"light-speed-in-bottom":g.LightSpeedIn(2),"light-speed-in-left":g.LightSpeedIn(3),"rotate-in-left-top":g.RotateIn(0),"rotate-in-right-top":g.RotateIn(1),"rotate-in-left-bottom":g.RotateIn(3),"rotate-in-right-bottom":g.RotateIn(2),"zoom-in-left":g.ZoomIn(3),"zoom-in-right":g.ZoomIn(1),"zoom-in-top":g.ZoomIn(0),"zoom-in-bottom":g.ZoomIn(2),"wave-left":g.Wave(3),"wave-right":g.Wave(1),"creep-top":g.Creep(0),"creep-bottom":g.Creep(2)};d["37"]=g});d(function(){var j=k("w","x"),h=k("h","y");function k(l,m){return function(r,p,o,n,q){return o[l]*n-r[l]*p+(q?0:(o[m]||0))}}function i(m,l){return function(p,n,o){return j(p,m,n,l,o)}}function g(m,l){return function(p,n,o){return h(p,m,n,l,o)}}d["38"]={leftIn:i(0,0),leftTo:i(1,0),rightIn:i(1,1),rightTo:i(0,1),center:i(0.5,0.5),topIn:g(0,0),topTo:g(1,0),bottomIn:g(1,1),bottomTo:g(0,1),middle:g(0.5,0.5),right:function(l){return l.x+l.w},bottom:function(l){return l.y+l.h}}});d(function(){var s=d["31"],m=d["6"],j=d["10"],o=d["1"],k=d["32"],l=d["8"],q=d["26"],i=d["38"],r=d["19"],h=d["14"];function n(p,t){var u={duration:0,delay:0};o.foreach(p.images,function(w,v){u=w.enter={duration:0.6,delay:t+v*0.3,progress:{"0":{rotate:-30,scale:!h.ios&&!h.iphone6?1:3,x:-p.w*2.4,y:p.h*2.4}}}});return u.duration+u.delay}function g(I){var B=I.layout,C=B.element,G=I.parent,E=I.images,D=E.length,v=I.delay||0,u=I.sign*Math.min(25/D,4),t=I.arrow,p=G.w,H=G.h,x=s.range(3/D,0.08,0.6),z=s.range(1.5/D,0.04,0.3);o.foreach(E,function(K,J){K.x=i.center(K,G,true);K.y=i.middle(K,G,true);K.zi=10000+J;K.rotate=(J+1-D)*u;K.appendTo(G)});if(I.animation!==false){n({images:E,w:p,h:H},v)}B.onEnterEnd(function(){var J=D-1,M=null,L=null;function K(P){var O=q.Lock(),N=J--,Q=E[(N%D+D)%D];if(M){M=null}L=r.transition(Q,{end:{x:(P?B.w:-Q.w),opacity:0},duration:0.3,onEnd:function(){L=null;Q.x=i.center(Q,G,true);Q.opacity=1;Q.zi-=D;Q.rotate=(1-D)*u;M=o.map(E,function(S,T){var R=E[((N+T)%D+D)%D];return r.transition(R,{end:{rotate:(T+1-D)*u},timing:k.Timing.easeOut,delay:z*T/2,duration:x/2})});O.remove()}})}q.onSwipeStart(G.element,function(N){N.xOut&&K(N.dX>0)});if(t){m(w,"opacity",1);m(A,"opacity",1)}B.onRemove(function(){L&&L.fastForward();if(M){o.foreach(M,function(N){N.fastForward()});M=null}})});if(t){var w=l(t,{css:{width:m.px(t.w),height:m.px(t.h)}}),A=t.cloneNode(true),y=t.offset||15;function F(J){function K(L){return{transform:[m.scale(J,1),m.translate(L,0,0)].join(" ")}}return j.animation([{0:K(0),20:K(0),35:K(12),50:K(-20),65:K(0),80:K(-12),100:K(0)},1.5,"infinite"])}o.foreach([w,A],function(J){m(J,{visibility:"visible","z-index":10000,opacity:0,transition:"0.8s"})});B.onShow(function(){m(w,{position:"absolute",left:m.px(i.leftIn(w,B)+y),top:m.px(i.middle(w,G)),animation:F(1)});m(A,{position:"absolute",left:m.px(i.rightIn(w,B,true)-y),top:m.px(i.middle(w,G)),animation:F(-1)});C.appendChild(w);C.appendChild(A)});B.onRemove(function(){l.remove(w);l.remove(A)})}}g.applyAnimation=n;d["39"]=g});d(function(){var k=d["2"],n=d["17"],i=d["33"],l=d["1"],o=d["19"],h=d["39"];function g(s,t,p,r){var q=null;r=r||0;l.foreach(s,function(u,v){q=u.enter=k.extend(u.enter,{duration:t+(u.enter.durationCorrect||0),delay:(u.enter.kahn1990_delayIf==true)?u.enter.kahn1990_delay:(p*t*v+r)})});return q?q.duration+q.delay:r}function m(r){var q=r.wrapper,p={text:[],image:[],mulitimage:[]};o.loopComponent(q,function(s){var u=s.applyEnter||{},t=u.type;if(t){p[t]=p[t]||[];p[t].push(s)}});return p}function j(x,w){var v=x.wrapper,u=v.applyEnter,q=m(x),s,y,A=0;function r(C,D,B){A=g(C,D,B,A)}if(u&&w){y=i.Random(w.seed);s=w.speed;l.foreach([[q.image,w.imageGroup],[q.text,w.textGroup]],function(B){l.foreach(B[0],function(C){var D=n.transform(o.getPageMatrix(C),[C.w/2,C.h/2,1]);C.enter=y.select(l.remove(B[1],function(E){return E.direction===(D[1]+1>=v.h/2?0:2)||E.direction===(D[0]+1>=v.w/2?3:1)}))})});if(w.inOrder===true||(w.inOrder==null&&y()>0.5)){if(u.first==="text"){r(q.text,s[2],s[3]);r(q.image,s[0],s[1])}else{r(q.image,s[0],s[1]);r(q.text,s[2],s[3])}}else{var z=y.arrange(q.text.concat(q.image)),t=[],p=[];l.foreach(z,function(B,C){if(B.applyEnter.type==="text"){p.push(C);t.push(B)}});l.foreach(t.sort(function(B,C){return B.zi-C.zi}),function(B,C){z[p[C]]=B});r(z,s[4],s[5])}l.foreach(q.mulitimage,function(B){A=h.applyAnimation(B,A)})}}d["40"].analyzePage=m;d["40"].applySpeed=g;d["40"].applyAnimate=j});d(function(){var k=d["1"],D=d["2"],l=d["17"],w=d["36"],v=d["37"],h=d["40"],i=d["24"],t=d["23"],n=d["39"],g=d["33"].Random(0),y=d["7"],o=d["6"],u=d["38"],z=d["19"],q=z.formats,s=z.Component,E=v.table;var m={1:"blur(6px)",2:"saturate(0)",3:"saturate(180%)",4:"sepia(100%)",5:"sepia(100%) blur(6px)",6:"brightness(1.5) contrast(150%)",7:"contrast(200%)",8:"brightness(0.5)",9:"hue-rotate(120deg)"},C={7:true,8:true,9:true},B={1:{0:{opacity:0}},2:{0:{rotate:0,opacity:0},100:{rotate:-360,opacity:1}},3:{0:{scale:1.2,x:"-6%"},100:{scale:1.2,x:"6%"}},4:{0:{scale:1.2,x:"6%"},100:{scale:1.2,x:"-6%"}},5:{0:{scale:1.2,y:"-6%"},100:{scale:1.2,y:"6%"}},6:{0:{scale:1.2,y:"6%"},100:{scale:1.2,y:"-6%"}},7:{0:{scale:1.15}},8:{100:{scale:1.15}},11:{10:{scale:2},30:{x:"50%",scale:2},50:{x:"50%",scale:2},80:{x:"50%",scale:2}},12:{10:{scale:2},30:{y:"-50%",scale:2},50:{y:"-50%",x:"-20%",scale:2},70:{x:"50%",scale:2},85:{y:"50%",scale:2},95:{scale:2}}},j={2:"linear",3:"linear",4:"linear",5:"linear",6:"linear",7:"linear",8:"linear",11:"linear",12:"linear"};function A(F,p){if(F!=null){return p(F)}}function x(F,p){return F==null?p:F}function r(L,I,O){var M=I.component(),F=I.custom,N=O==="screen"||F.layoutType==="screen",G=!N&&F.label==="custom",J=G?t.cover504(L):F.type==="cover"?t.cover(L):t.y(L),K=J.scale,P=L.xScale,H=L.yScale,Q=0;function p(S,V){var T=(V.width-(V.borderWidth||0))*K<<0,R=(V.type==="text"&&S.h?T/S.whr:V.height*K)<<0,U=S.color?i.Rect(T,R,S.color):I.cut===false?i.Cover(S,{w:T,h:R}):i.Image(S,{w:T,h:R});return S.mask?i.Mask(U,S.mask):U}L.applyEnter={first:F.animationFirst,pageAnimation:I.pageAnimation};k.foreach(M,function(W,Y){var U=W.info,ac=null;function ag(ai,ak,aj){var ah=ak.info;if(ak.frame!=null){return A(ak.frame,function(ap){var am=ap.info,an=s(p(ap,am)),al=s(p(ai,ah)),ao=s(i.Rect(an.w,an.h),aj);ao.origin=l.transform(J.matrix,[am.x,am.y,1]);al.origin=[(ah.x-am.x)*K,(ah.y-am.y)*K];an.appendTo(ao);al.appendTo(ao);ao.info=D.extend(am,{type:"image"});ao.content=al;return ao})}if(ah.maskRadius||ah.borderWidth||ah.borderColor){return s(i.Border(p(ai,ah),{radius:ah.maskRadius*K<<0,width:ah.borderWidth*K<<0,color:ah.borderColor}),aj)}return s(p(ai,ah),aj)}if(U==null){if(W.color){L.background=W.color}else{if(G||F.type==="cover"||N){ac=L.backgroundImage=s(i.Cover(W,L),L);ac.applyEnter={type:"background",coverBackground:true}}else{ac=s(i.Image(W,L.h/W.h),L);ac.x=u.center(ac,L);ac.applyEnter={type:"background",coverBackground:false}}}}else{if(U.type==="screen"){ac=s(i.Image(W,L.w,L.h),L)}else{if(N){!function(){var ai=U.x*P<<0,am=U.y*H<<0,aj=Math.round(U.width*P),ah=Math.round((U.type==="text"?U.width/W.whr:U.height)*H),ak;if(U.type==="text"){var al=Math.min(aj/W.w,ah/W.h);ai+=aj-W.w*al;am+=ah-W.h*al;ac=s(i.Image(W,al),L)}else{ak=i.Cover(W,{w:aj,h:ah});ac=s(W.mask?i.Mask(ak,W.mask):ak,L)}ac.origin=[ai,am]}()}else{if(W.multiImage){A(W.multiImage,function(ah){ac=s(p({color:"transparent"},U),L);n({layout:L,parent:ac,images:ac.images=k.map(ah,function(ai){return ag(ai,W)}),delay:3,sign:-1,animation:false,arrow:W.arrow})})}else{ac=ag(W,W,L)}U=ac.info||U;var ae=l.transform(J.matrix,[U.x,U.y,1]);ac.origin=k.map([[ae[0],U.alignX,L.w,ac.w],[ae[1],U.alignY,L.h,ac.h]],k.apply(function(ah,ak,aj,ai){return ak!=null?(aj-ai)*ak:ah}));delete ac.info}ac.rotate=(U.rotate||0)*180/Math.PI;ac.opacity=x(U.opacity,1);ac.zi=U&&U.type==="text"?100+Y:Y;if(U.type==="text"){ac.scale*=Math.max(w(ac,L),0.5);ac.text=true}if(G){var ab=D.extend(E[U.animation]||v.Emerge(),{duration:U["animation-duration"]}),V=U["animation-delay"];ab.delay=V===undefined||V===null?Q:V;Q=ab.delay+(ab.duration||1);ac.enter=ab}else{ac.applyEnter=U.type==null?undefined:{type:U.type,enterTiming:U.enterTiming,animationIndex:U.animationIndex,animation:U.animation,index:Y}}}}if(ac){ac.custom=true;ac.customInfo=U;ac.isElement=true;function ad(ah){var ai=s(i.Rect(ah.w,ah.h),ah.parent);ai.origin=ah.origin;ai.rotate=ah.rotate;ai.scale=ah.scale;ah.origin=[0,0];ah.rotate=0;ah.scale=1;ah.appendTo(ai);af=ah.element.mask;if(af){o.remove(ah.element,["mask-image","mask-size"]);o(ai.element,{"mask-image":o.url(af),"mask-size":"100% 100%"});ai.element.mask=af}return ai}var T=W.filter,aa=W.camera,Z=ac.content||ac,S,af;if(T&&y.ios){S=ad(Z);var X=z.cloneComponent(Z),R;X.appendTo(S);X.opacity=0;X.zi=1000;if(C[T]){R={50:{absOpacity:1}}}else{R={0:{absOpacity:1}}}o(X.element,"filter",m[T]);X.enter={progress:R,duration:2.5}}if(aa){ac.applyEnter=false;Z=S||Z;S=ad(Z);o(S.element,"overflow","hidden");B[aa]&&(Z.enter={both:true,progress:B[aa],duration:3,timing:j[aa]});if(X){X.enter.duration=5}}}})}q.components={create:r};q.screen={create:function(p,F){r(p,F,"screen")}};q.SingleImage={create:function(F,G){var p=s(i.Cover(G.image(0),F),F);p.isElement=true}};q.custom=q["custom-2"]={};q.MutipleImage01={resource:{arrow:"arrow/mi01"},create:function(F,H,G){var p=F.h*0.82<<0,I=s(i.Rect(p/410*244<<0,p),F);I.x=u.center(I,F);I.y=u.middle(I,F);n({layout:F,parent:I,images:k.map(H.component(0).multiImage,function(J){return s(i.Border(i.Cover(J,I),{width:3,color:"#FFFFFF"}),null,true)}),sign:-1,arrow:G.arrow})}};q.MutipleImage04={resource:{background:"mi04-background.jpg",arrow:"arrow/mi04"},create:function(L,I,K){var J=L.yScale;s(i.Image(K.background,L.w,L.h),L);var H=s(i.Image(I.component(0),J),L),F=s(i.Image(I.component(1),J),L),p=s(i.Image(I.component(2),J),L),G=s(i.Rect(356/2*J,518/2*J),L);F.y=u.bottomTo(F,H)+11*J;p.y=u.bottomTo(p,F)+19*J;G.y=u.bottomTo(G,p)+39*J;var M=(L.h-u.bottom(G))/2<<0;k.foreach([H,F,p,G],function(N){N.y+=M;N.x=u.center(N,L)});H.enter=F.enter=p.enter=v.Emerge();h.applySpeed([H,F,p],1,1);n({layout:L,parent:G,images:k.map((I.component(3)).multiImage,function(N){return s(i.Border(i.Cover(N,G),{width:1,color:"#FFFFFF"}))}),delay:3,sign:-1,arrow:K.arrow})}};k.foreach(["SingleImage","screen","custom","custom-2","MutipleImage01","MutipleImage04"],function(p){q[p].load=function(H,L){var G="components",I=[],J=[],F=false;switch(p){case"MutipleImage01":case"MutipleImage04":case"screen":G=p;break}function K(O){var N=O.url,M;if(N){M=new Image();M.targetSrc=N;J.push(M)}else{M={}}M.info=O.imageinfo==null?null:D.extend({x:0,y:0},O.imageinfo);M.filter=O.filter;M.camera=O.camera;return M}k.foreach(H.image,function(O){if(O.url==null&&O.images==null){if(O.imageinfo==null){F=true}return}O=JSON.parse(JSON.stringify(O));var N=K(O),M,Q,P;I.push(N);if(M=O.mask){N.mask=K(M)}if(Q=O.frame){N.frame=K(Q)}if(P=O.images){N.multiImage=k.map(k.remove(P,function(R){return R==null}),function(R){return K({url:R})});N.arrow=K({url:O.arrow||"http://cloudl7dev.b0.upaiyun.com/a7802fd8f506dffd01df67d06308ecf9mi01-arrow.png"})}});L(D.extend(H,{label:G,fail:F,custom:D.extend(H.custom||{},{label:H.label}),componentImages:J,components:I}))}});d["41"].layCustom=r});d(function(){var l=d["4"],k=d["8"],o=d["9"],p=d["1"],q=d["6"],A=d["10"],u=d["11"],E=d["2"],n=d["16"],i=d["25"],x=d["28"],h=d["29"],s=d["26"],v=d["30"],y=d["14"],B=d["34"],r=d["35"],z=d["27"],F=d["15"],w=o(location.href),j=w.hash.replace("#",""),m=w.arg,g=new Date();d["41"];function C(G){return G===undefined||E.is.Array(G)?G:JSON.parse(G)}function t(G,H,I){A.runAnimation([G,{100:H},I],function(){k.remove(G)})}function D(H,G){return k(B(E.extend({loadWork:function(I){return v(H,I)},music:!/ChuyeNoMusic/gi.test(navigator.userAgent)&&!window.noMusic,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,disableClickMode:y.inChuyeList,toolbar:y.MicroMessenger},G||{})),{css:{position:"absolute",left:0,top:0}})}c&&k("style",c,document.head);d["42"]=function(){var H,I=document.body.appendChild(D(workDetailUrl,E.extend({pageIndex:parseInt(j)==j?parseInt(j):undefined,preview:y.chuyePreview},JSON.parse(z.getSessionData(z.workLocation())||"{}"))));if(window.firstpageVersion){F("script",function(){return f.toString()})}if(y.chuyeList){H=s.Lock();z.useClient(["open","enterFullScreen","leaveFullScreen","switchWorkStart","switchWorkEnd","switchFirst","switchLast"],function(){var U=firstpage.workList||JSON.parse(firstpage.getWorkList()),K=I.workId,M=Q(K),X={},N=false,Y={},W=null,S=null,J=k("div",{css:q.full({"z-index":100000})},document.body),T=k("div",{css:q.full({left:0,right:0,top:q.px(90),bottom:q.px(90)})},J);window.loadGA&&window.loadGA();firstpage.updateWorkList=null;function V(Z){return firstpage[Z]==null?false:E.is.Boolean(firstpage[Z])?firstpage[Z]:firstpage[Z]()}function R(Z){return D(workDetailUrl.replace(K+"",Z),{pageIndex:Y[Z]})}function L(){N=true;p.foreach([-1,1],function(aa){var Z=U[M+aa];X[aa]=Z?R(Z):null})}function P(Z,aa){if(aa!==undefined){history.replaceState(null,"",w.toString().replace(K+"",Z.workId));window.cas&&cas.trackPageview&&cas.trackPageview();document.title="作品加载中"}W=Z.onLoad(function(){document.title=Z.workTitle;W=null})}function O(Z){I.recycle();k.remove(I);Y[I.workId]=I.curPageIndex;I=Z;I.play();L();P(I,M)}function Q(Z){return p.foreach(U,function(ab,aa){if(ab==Z){return aa}})}if(y.ios&&!y.win32){p.foreach(["open","enterFullScreen","leaveFullScreen","switchWorkStart","switchWorkEnd","switchFirst","switchLast"],function(Z){firstpage[Z]=function(){document.location="chuyeapp:"+Z+":"+Array.prototype.slice.call(arguments,0).join("$")}})}s.onTap(T,firstpage.enterFullScreenA=function(){if(!I.loadError){if(I.audioNeedResume){I.audioNeedResume=false;I.playAudio()}document.documentElement.classList.remove("hide-tips-fade");firstpage.enterFullScreen();J.classList.add("hidden");I.preloadPage()}});s.onTap(document.documentElement,firstpage.leaveFullScreenA=function(){if(!s.preventBodyEvent&&J.classList.contains("hidden")){document.documentElement.classList.add("hide-tips-fade");I.audioNeedResume=I.audioPlayIntention;I.stopAudio&&I.stopAudio();firstpage.leaveFullScreen();J.classList.remove("hidden")}});firstpage.jump=function(Z){if(I.workId!=U[Z]){O(document.body.appendChild(R(U[M=Z])))}};firstpage.updateWorkListA=function(Z){U=C(Z);if((M=Q(I.workId))===undefined){firstpage.jump(0)}};if(m.full||V("full")){setTimeout(function(){firstpage.enterFullScreenA();H.remove()},Math.max(0,1500-(new Date()-g)))}else{H.remove();document.documentElement.classList.add("hide-tips-fade")}I.onPageLoad(L);P(I);I.play();s.onSwipeStart(J,function(aa){if(aa.yOut){if(!N){L()}var ab=aa.dY>0?-1:1,Z=X[ab];function af(am,al){var ak=s.Lock();firstpage.switchWorkStart();i.cutPage(function(){am(document.body,I,Z,function(){M=al;O(Z);firstpage.switchWorkEnd(al);ak.remove()},0.4)})}if(Z){if(W){W.remove();W=null}S=null;af(ab===1?r.push:r.back,M+ab)}else{if(m["no-refresh"]||V("noRefresh")){s.alert(ab===1?"没有下一个作品了":"没有上一个作品了")}else{if(firstpage.updateWorkList!==null){s.alert("加载中,请稍候")}else{if(ab===1){var ag=k("div",{css:{position:"absolute",left:"50%",bottom:q.px(80),"z-index":100,opacity:0,transition:"0.2s"}},document.body);k(h.LoadingChrysanthemum(ag),{css:{"z-index":0}});setTimeout(function(){q(ag,"opacity",1)},0);S=function(){var ak=U[M+1];if(ak){Z=R(ak);af(r.push,M+1)}else{s.alert("没有下一个作品了")}};firstpage.updateWorkList=function(ak){ak=C(ak);t(ag,{opacity:0},0.3);if(JSON.stringify(ak)===JSON.stringify(U)){s.alert("没有下一个作品了");S=null}else{U=ak;M=Q(I.workId);S&&S()}firstpage.updateWorkList=null};firstpage.switchLast()}else{var ae=k(n.Icon("refresh-arrow"),{css:{position:"absolute",left:0,top:0,"z-index":1,transition:"0.3s"}}),ad=ae.w,ah=k("div",{css:{position:"absolute",left:"50%","margin-left":q.px(-ad/2),width:q.px(ad),height:q.px(ad),top:q.px(-ad),"z-index":100},children:[ae]},document.body),aj=k(h.Loading(ah),{css:{"z-index":0,transition:"0.3s",transform:"scale(0.88)",opacity:0}}),ac=0,ai=false;u.onMoveUp({onMove:function(ak){q.transform(ah,q.translate(0,Math.atan((ac+=ak.dY)/100)*60));ai=ac>100;q.transform(ae,q.rotateZ(ai?180:0))},onUp:function(){function ak(){t(ah,{transform:"translate3d(0,0,0)"},0.3)}if(ai){q(ae,"opacity",0);q(aj,"opacity",1);firstpage.updateWorkList=function(am){am=C(am);if(am===undefined||(U=am)[M]==I.workId){var al=k("div.msg-box",{css:{top:q.px(Math.atan((ac+=aa.dY)/100)*60+3),visibility:"visible"}},document.body),an=k("div.msg",{css:{opacity:1,"border-radius":"25px","line-height":"25px",padding:"0 12px"},innerHTML:"没有新的作品了"},al);l.once(function(){t(al,{opacity:0},0.3)},function(ao){return[l.setTimeout(ao,2000),s.onPointerDown(document,ao)]});L()}else{Z=R(am[0]);af(r.fade,0)}firstpage.updateWorkList=null;ak()};firstpage.switchFirst()}else{ak()}}})}}}}}})})}else{var G;if(G=JSON.parse(z.getSessionData("login-data")||"null")){z.registLoginPage[G.name](E.extend(G,{noAnimate:true,parent:I}))}I.onLoad(function(){var J=I.workData;if(y.chuye){y.chuyeVersion<2&&l.polling(function(){return !!document.onFirstPageDataLoad},function(){document.thumbnail=J.picture;document.description=J.desc;document.onFirstPageDataLoad()})}window.parent.onWorkLoad&&window.parent.onWorkLoad(J.data);x(J);I.preloadPage()});I.play();window.loadGA&&window.loadGA()}k.bind(window,"resize",function(){I.resize(document.documentElement.clientWidth,document.documentElement.clientHeight)});window.playAudio=function(){I&&I.playAudio&&I.playAudio()};window.stopAudio=function(){I&&I.stopAudio&&I.stopAudio()};Object.defineProperty(window,"curPageIndex",{set:function(J){I&&(I.curPageIndex=J)},get:function(){return I?I.curPageIndex:undefined}});Object.defineProperty(window,"curPageData",{get:function(){return I?I.curPageData:undefined}});Object.defineProperty(window,"curWork",{get:function(){return I}})}});b(function(){window.runFirstPage=d["42"]});d(function(){var g=d["9"],h=d["14"],j=d["8"],i=d["32"];d["43"]=function(l,n){var k=l.workData,o=k.music?k.music.src:null,m=j("<audio loop></audio>",l);n=n||{};l.audioPlayIntention=true;m.onerror=function(){m.onerror=null;m.src=g.concatArg(o,{t:new Date().getTime()});n.play&&m.play()};if(!h.ios){j.bind(m,"loadeddata",function(){i.requestFrames({duration:3,onAnimate:function(p){m.volume=p<0?0:p}})})}l.stopAudio=function(){if(n.play===true){l.audioPlayIntention=false;n.play=false;m.pause()}};l.playAudio=function(){if(!m.src){m.src=o}if(n.play!==true){l.audioPlayIntention=true;n.play=true;m.play()}};l.isAudioPlaying=function(){return !m.paused};return m}});d({group:{"1":{s:[1,0.4,1.8,0,1.4,0],n:"梦幻浮现",o:true,i:0,t:1},"2":{s:[1,0.4,1.2,0.2,1,0.6],n:"花样绽放",o:true,i:2,t:3},"3":{s:[1,0.4,0.8,0.2,0.8,0.2],n:"轻舞飞扬",o:true,i:4,t:5},"4":{s:[1,0.4,1.4,0.2,1.4,0.2],n:"立体旋转",o:true,i:6,t:6},"5":{s:[1,0.4,1.2,0.2,1,0.1],n:"大气磅礴",o:true,i:7,t:7},"6":{s:[1,0.4,0.8,0.2,0.8,0.2],n:"诙谐颤抖",o:true,i:8,t:9},"7":{s:[1,0.4,1.2,0.1,0.8,0.1],n:"简约滑动",o:true,i:10,t:11},"8":{s:[1,0.4,0.8,0.2,0.8,0.2],n:"抖动下落",o:true,i:12,t:12},"9":{s:[1,0.4,0.8,0.1,0.8,0.1],n:"可爱果冻",o:true,i:13,t:8},"14":{s:[1,0.4,1,0.2,1.2,0.2],n:"灵性翻动",o:true,i:1,t:14},"15":{s:[1,0.4,1.2,0,1.2,0],n:"回忆浮现",o:true,i:15,t:15},"16":{s:[1,0.4,1.6,0,1.6,0],n:"眉飞色舞",o:true,i:16,t:17},"17":{s:[1,0.25,0.7,0.2,0.7,0.2],n:"摇摆摇摆",o:true,i:18,t:18},"19":{s:[1,0.25,1.2,0.2,0.7,0.2],n:"趣味变形",o:true,i:17,t:19},"20":{s:[1,0.25,0.8,0.2,0.8,0.2],n:"波浪翻动",o:true,i:9,t:20}},marshall:{"0":["fly-into-top","fly-into-right","fly-into-bottom","fly-into-left"],"1":["flip-in-x","flip-in-y"],"2":["circle-round"],"3":["curve-up"],"4":["bounce-in","bounce-in-up","bounce-in-right","bounce-in-down","bounce-in-left"],"5":["fly-into-top","fly-into-right","fly-into-bottom","fly-into-left"],"6":["overturn"],"7":["shrink"],"8":["tada"],"9":["wave-left","wave-right"],"10":["rotate-in-left-top","rotate-in-right-top","rotate-in-left-bottom","rotate-in-right-bottom"],"11":["scale"],"12":["fall-down-and-shake"],"13":["rubber-band"],"14":["fly-into-right","fly-into-left"],"15":["fade-in","emerge-top","emerge-right","emerge-bottom","emerge-left"],"16":["zoom-in-left","zoom-in-right","zoom-in-top","zoom-in-bottom"],"17":["light-speed-in-top","light-speed-in-right","light-speed-in-bottom","light-speed-in-left"],"18":["swing"],"19":["flash"],"20":["creep-top","creep-bottom"]}});d(function(){var O=d["2"],i=d["33"],s=d["1"],G=d["19"],k=d["35"],p=d["37"],F=d["14"],D=d["44"],E=D.marshall,x=O.collect(function(P){O.foreach(D.group,function(S,R){function Q(T){return C(s.map(E[T],function(U){return p.table[U]}))}P(S,{seed:0,name:R.n,speed:R.s,inOrder:R.o,imageGroup:Q(R.i),textGroup:Q(R.t)})})}),o=C([M(p.BounceFlying),p.bounceIn]),j=C([p.swing]),n=C([p.FlipIn("x"),p.FlipIn("y")]),u=C([p.shake,p.wobble]),q=C([p.fallDownAndShake]),J=C([p.tada]),h=C([p.rubberBand]),A=C([M(p.RotateIn)]),H=C([M(p.ZoomIn)]),w=C([M(p.LightSpeedIn)]),v=C(M(p.Wave,[1,3])),K=C(M(p.Creep,[0,2])),I=C([p.circleRound]),z=C([p.coin]),B=C([M(p.Emerge),p.fadeIn]),L=C([p.overturn]),y=C([p.shrink]),N=C([p.scale]),m=C(M(p.FlyInto)),r=C(M(p.FlyInto,[1,3])),t=C([p.roundFromFarAndNear]);function M(P,Q){return s.map(Q||s.range(4),function(R){return P(R)})}function C(Q){var P=[];s.foreach(Q,function(R){P=P.concat(R)});s.foreach(P,function(R){P.isEmphasize=G.isEmphasize(R);P.isScale=R.scale;P.isPerspective=G.isPerspective(R)});return P}function g(P){return{1:[0.8,0.1,0.8,0.1,0.8,0.1],2:[0.7,0.1,0.7,0.1,0.7,0.1],3:[1.2,0.3,1.2,0.1,1.2,0.3],4:[1.4,0.3,1.4,0.1,1.4,0.3],5:[0.8,0.3,0.8,0.1,0.8,0.1],6:[1.6,0.6,1.4,0.1,1.6,0.3],7:[1.6,0.5,1.4,0.3,1.6,0.1],8:[1.6,0.3,1.6,0.1,1.6,0.3]}[P]}function l(T){var W=T.theme,X=i.Random(parseInt(T.id)),R=i.Random(parseInt(T.id)),U={1:[k.classic,k.flipOver,k.push],2:[k.fade,k.classic,k.door,k.overturn,k["switch"]],3:[k.classic,k.push,k.overturn],4:[k.classic,k.uncover,k.push,k["switch"],k.fade],5:[k.classic,k.fade,k.push],6:[k.classic,k.fade,k.push],7:[k.classic,k.fade,k.push],8:[k.classic,k.uncover,k.fade]}[W],S=X.select(F.iphone6?s.remove(U,function(Y){return Y.highPerformance}):U),P=[],Q=[],V={};s.foreach(T.pages,function(aa,ab){var ai={image:0,text:0},ak=false;if(aa.label==="custom-2"||aa.label==="screen"||aa.name==="screen"){s.foreach(aa.image,function(ap){var an=ap.imageinfo;if(an){var ao=an.type;if(ao in ai){ai[ao]++}ak=ak||!!ap.mask||an.borderWidth>0||an.maskRadius>0}});var ac=ai.text===0,al=ai.image===0,am=ai.image===1,af=al||am,Z=[],ah=[],ag=[],ae,ad,aj=null;({1:function(){if(af){Z=[u,J,h];ag=[o,n,j,q]}else{Z=[u,J,h];ag=[o,n,q]}},2:function(){var ao={image:[u,J,w,z],text:[w,r]},an=af?ao:X.select([ao,{image:[m],text:[w,K,v,z]}]);Z=an.image;ah=an.text},3:function(){ag=af?[o,n,j,A,B,m,L,t]:[o,A,m,B]},4:function(){ag=af?[n,A,B,N,t,m,L]:[n,A,B,N,m]},5:function(){var an;if(af){ah=Z=[L,y,N,t,H]}else{ah=[I,t,L,N,H];Z=[L,N,H]}an=i.select([ah,Z]);an.push(m,B);if(ab===0){al?ah=[y]:Z=[y]}},6:function(){ag=af?[n,A,B,L,N,m,L]:[A,B,L,N,m,t];if(ai.image>=5){aj=false}},7:function(){ah=[L];if(af){ag=[n,A,B,N,m,t]}else{ag=[A,B,N,m]}},8:function(){if(af){ag=[n,A,B,m,t,L]}else{ah=[L];ag=[A,B,m]}}}[W])();Z=Z.concat(ag);ah=ah.concat(ag);if(ak){Z=s.remove(Z,function(an){return an.isScale})}function Y(an,aq){var ap=s.remove(an,function(ar){return ar===aq[0]||ar===aq[1]}),ao=X.select(ap.length===0?an:ap);aq.push(ao);if(aq.length>=3){aq.shift()}return ao}ae=Y(ac?s.filter(Z,function(an){return !an.isEmphasize}):Z,Q);ad=Y(ac||!ae.isEmphasize?s.filter(ah,function(an){return !an.isEmphasize}):ah,P);V[ab]={seed:R(),imageGroup:ae,textGroup:ad,inOrder:aj,speed:g(W)}}});return{switchAnimation:S,themeNumber:W,appliedGroup:V}}d["45"].Theme=l;d["45"].Speed=g;d["45"].pageAnimations=x});d(function(){var i=d["6"],h=d["2"],j=d["4"];function k(l){var m=null;return{selected:function(){return m},cancel:function(){if(m){i(m,l.unselected);m.selected=false}m=null},Option:function(o){var n=j.Event();i(o,l.unselected);return h.insert(o,{select:function(){if(m!==o){if(m){i(m,l.unselected);m.selected=false}o.selected=true;i(m=o,l.selected);n.trig()}},onSelect:n.regist})}}}function g(m,l,o){function n(p){i(m,l[p])}n(o);return n}d["46"].Select=k;d["46"].State=g});d(function(){var i=d["11"],j=d["1"],h=d["2"];function g(k){k=k||{};function n(){var q=[],s,r;return{track:function(w,u){var v=u===0?s:u>0;if(w>200||v!==s){q=[]}q.push({duration:w,length:u});var y=0,x=0;j.foreach(q,function(z){y+=z.duration;x+=z.length});var t;while(y>200){t=q.shift();y-=t.duration;x-=t.length}r=y===0?0:x/y;s=v},speed:function(){return r}}}var o=n(),m=n(),l=new Date();function p(t,r){var q=new Date(),s=q-l;l=q;o.track(s,r.dX||0);m.track(s,r.dY||0);t&&t(h.insert(r,{speedX:o.speed(),speedY:m.speed()}))}return i.onMoveUp({onMove:function(q){p(k.onMove,q)},onUp:function(q){p(k.onUp,q)}})}d["47"]=g});d(function(){var m=d["16"],o=d["6"],j=d["2"],q=d["1"],n=d["40"],t=d["45"],r=d["26"],k=d["8"],l=d["46"],i=d["47"],s=d["31"],h=d["10"],p=d["27"];function g(v,u){window.firstpage=window.firstpage||{};var y=k("div",{css:{position:"absolute",right:"0",top:"65px",width:"55px",height:"55px",transition:"0.2s","z-index":1000},children:[k(m.Icon("edit-animate"),{css:{position:"absolute",top:0,right:"10px"}})]},document.body),A=k("div.hidden",{css:o.full({background:"#525355"})},document.body),B=null,w=null,x=0;function z(C){if(C){o.remove(y,"transform");o.remove(y,"pointer-events")}else{o(y,"pointer-events","none");o.transform(y,o.translate(45,0,0))}}o(v,{"transform-origin":"50% 0",transition:"0.2s"});z(false);return function(K){if(B){B.remove();k.remove(w);B=w=null}var C=n.analyzePage(K),I=K.wrapper,H=I.applyEnter,P={};if(H&&(C.image.length+C.text.length>0)){w=k("div",{css:{position:"absolute",height:"90px",left:0,right:0,bottom:0,background:"#000000",transition:"0.2s"}},document.body);var F=null,E=[],O=parseInt(H.pageAnimation||0),N=l.Select({selected:{"border-color":"#FE2454",background:"#FE2454"},unselected:{"border-color":"#333333",background:"transparent"}}),J=0,D=k("div",{css:{position:"absolute",height:"4px",bottom:0}},w);j.foreach(j.extend({0:{name:"随机配置"}},t.pageAnimations),function(V,S){var U=J++%8;if(U===0){var R=k("div",{css:{"float":"left",width:"4px",height:"4px","border-radius":"4px","margin-left":D.childElementCount?"8px":0}},D);F=k("div",{css:{position:"absolute",left:"14px",right:"14px",top:0,bottom:0}},w);F.selected=l.State(R,{selected:{background:"#FFFFFF"},unselected:{background:"#515151"}},"unselected");F.pageIndex=E.length;E.push(F)}var T=k("div",{css:{"float":"left",width:"25%",height:"45px",position:"relative"}},F),Q=P[V]=N.Option(k("div",{css:j.extend({"font-size":"11px",position:"absolute",color:"white",height:"20px",border:"1px solid",top:U<4?"15px":"auto",bottom:U<4?"auto":"14px","line-height":"20px","border-radius":"12px","text-align":"center"},o.center(58)),innerHTML:S.name},T));Q.onSelect(function(){K.pageData.pageAnimation=parseInt(V)});r.onTap(T,function(){K.fastForward();n.applyAnimate(K,parseInt(V)?S:u.appliedGroup[K.index]);Q.select();setTimeout(function(){K.prepare();K.play()},0)})});o(D,o.center(D.childElementCount*12-8));function L(Q){F=E[x=Q];q.foreach(E,function(R){o.remove(R,"transform");if(R===F){R.selected("selected");R.classList.remove("hidden")}else{R.selected("unselected");R.classList.add("hidden")}})}L(x);if(E.length>1){r.onSwipeStart(w,function(S){var Q=0,V=w.offsetWidth,U=E[s.index(x-1,E.length)],R=E[s.index(x+1,E.length)],T;function W(Y,X){Y.classList.remove("hidden");o.transform(Y,o.translate(X,0,0))}if(S.xOut){q.foreach(E,function(X){X.selected("unselected")});i({onMove:function(X){T=X.dX>0;Q=s.range(Q+X.dX,-V,V);R.classList.add("hidden");U.classList.add("hidden");Q>0?W(U,Q-V):W(R,Q+V);W(F,Q)},onUp:function(aa){var Z=Q/V+(Math.abs(aa.speedX)>0.2?s.sign(aa.speedX)*0.5:T?0.35:-0.35),X=Z>0.5?1:Z<-0.5?-1:0,Y=r.Lock();function ab(ad,ac){return[ad,{100:{transform:o.translate((X+ac)*V,0,0)}},"ease-in-out",0.2]}h.runAnimation([ab(F,0),Q>0?ab(U,-1):ab(R,1)],function(){Y.remove();L(s.index(x-X,E.length))})}})}})}function G(){K.fastForward();v.classList.remove("lock");o.remove(v,"transform");M(false);z(true)}firstpage.completeAnimationEdit=function(){firstpage.selectAnimation(K.pid,O=K.pageData.pageAnimation);G()};firstpage.cancelAnimationEdit=function(){K.pageData.pageAnimation=O;G()};function M(Q){A.classList.remove("hidden");Q?o.remove(w,"transform"):o.transform(w,"translate3d(0,100%,0)")}M(false);z(true);B=r.onTap(y,function(){var Q=r.Lock();p.useClient(["startAnimationEdit","selectAnimation"],function(){Q.remove();K.fastForward();v.classList.add("lock");o.transform(v,o.scale(1-90/v.offsetHeight));z(false);M(true);firstpage.startAnimationEdit();P[O].select()})})}else{z(false)}}}d["48"]=g});d(function(){var h=d["1"],g={};h.foreach(document.cookie.split(";"),function(i){var j=i.split("=");g[j[0].trim(" ")]=j[1]});d["49"].get=function(i){return g[i]}});d(function(){var i={},g=d["14"],h=d["49"],o=d["9"],q=d["13"],k=d["2"],j=o(location.href).arg.token||h.get("_token"),p=d["26"],n=!!j,r=null,m=null;function l(u,t,x,w,s){t=t||{};var v=q({url:o.concatArg("http://social.cloud7.com.cn/"+u,w?t:{}),data:w?null:JSON.stringify(t),method:w?"get":"post",headers:k.extend({Accept:"application/json"},w?{}:{"Content-Type":"application/json"},j&&!s?{Authorization:"_token "+j}:{})},function(y){if(y){x&&x(y)}else{try{var z=JSON.parse(v.responseText)}catch(A){x&&x(A);return}if(z.code===200){x&&x(null,z.data)}else{x&&x(z)}}})}i.getIndex=function(s,t){l("api/Total/Index",{relateId:s},function(v,u){if(v&&v.code===401){n=false;m&&m();l("api/Total/Index",{relateId:s},t,true,true)}else{n=!!j;m&&m();sessionStorage.setItem("social","true");t(v,u)}},true)};i.getUserInfo=function(s){if(r){s(null,r)}else{l("api/User/Summary",null,function(t,u){if(t){s(t)}else{s(null,r=u)}},true)}};if(g.MicroMessenger){i.isLogIn=function(){return sessionStorage.getItem("social")||!!n};i.logIn=function(s){function t(){if(n){s.onLogIn()}else{sessionStorage.setItem("social","true");location.href="http://passport.cloud7.com.cn/wechat/oauth"}}n===undefined?m=t:t()}}else{i.canNotLogin=function(){p.alert("请在微信中使用")};i.isLogIn=function(){return false}}d["50"]=k.extend(i,{request:l})});d(function(){var g=d["50"],n=d["1"],j=d["8"],l=d["6"],k=d["16"],p=d["26"],o=d["29"],m=d["5"],h=d["4"],i=d["2"];l.insertRules({".placeholder-8e9193::-webkit-input-placeholder":{color:"#8e9193"}});d["51"]=function(u,q){var B=false,I=null,D=null,t=j(o.Loading(),u),E=j("div.scroll.hidden",{css:{position:"absolute",top:"54px",left:0,right:0,bottom:"54px"}},u),H=j("div.hidden",{css:{position:"absolute","border-top":"1px solid #606060",left:0,right:0,bottom:"0",background:"black"}},u),A=null,C=false,s=false,r=j("div",{css:{position:"absolute",border:"1px #fe2454 solid",background:"rgba(254,36,84,0.25)",width:"51px",height:"26px",right:"10px",top:"50%","margin-top":"-13px","border-radius":"13px","line-height":"26px","font-size":"13px","text-align":"center",color:"white",cursor:"pointer"},innerHTML:"发送",children:[j("div",{css:{position:"absolute",left:"-15px",right:"-10px",top:"-13px",bottom:"-13px"}})]},H),F=j("form",{css:{margin:"20px 71px 20px 55px"}},H),G=j("textarea.placeholder-8e9193",{css:{display:"block",height:"14px","line-height":"14px","font-size":"14px",width:"100%",background:"transparent",color:"white",resize:"none"},placeholder:"说点什么..."},F);j(u,{css:{background:"rgba(0,0,0,0.88)"},classList:"need-default"});j(k.Icon("comment/close"),{css:{position:"absolute",right:"15px",top:"15px"}},u);p.onTap(j("div",{css:{position:"absolute",right:0,top:0,width:"50px",height:"50px"}},u),function(){u.slideOut()});function v(J){return j("div",{css:{position:"absolute",width:"30px",height:"30px",background:l.url(J),"background-size":"cover","background-position":"50% 50%","border-radius":"15px"}})}function x(R,V){var P=R.User,O=R.ReplyUser,K=j("div",{css:{position:"relative"}}),Q=j("div",{css:{position:"relative","margin-left":"55px","margin-right":"15px","border-top":E.firstElementChild===K?"1px solid #606060":"none","border-bottom":"1px solid #606060"},children:[j("div",{css:{position:"absolute",right:"-15px",top:0,bottom:0,width:"15px"}})]},K),L=O?["回复",j("span",{innerHTML:O.Nickname,css:{"margin-left":"5px",color:"#8e9193"}}).outerHTML,"："].join(""):"",S=new Date(R.CreateAt),M=new Date(),U=(M-S)/1000/60<<0,T="",J="";j(v(P.HeadPhoto),{css:{top:"6px",left:"15px"}},K);j(k.Icon("comment/reply"),{css:{position:"absolute",top:"12px",right:"20px","pointer-events":"none"}},K);j("div",{innerHTML:P.Nickname,css:{"padding-top":"8px","font-size":"14px","line-height":"14px",color:"#8e9193"}},Q);if(U<1){J="刚刚"}else{if(U<60){J=U+"分钟前"}else{function N(W){return W<10?"0"+W:W}J=m.format("%h%:%m%",{h:S.getHours(),m:N(S.getMinutes())});if(S.getYear()===M.getYear()&&S.getMonth()===M.getMonth()&&S.getDate()===M.getDate()){T="今天"}else{T=m.format("%y%/%m%/%d%",{y:S.getFullYear(),m:N(S.getMonth()+1),d:N(S.getDate())})}}}j("div",{innerHTML:[T,J].join(" "),css:{"margin-top":"6px","font-size":"10px","line-height":"10px",color:"#8e9193"}},Q);j("div",{innerHTML:L+R.Content,css:{margin:"8px 0","font-size":"14px","line-height":"20px",color:"white"}},Q);E.insertBefore(K,V?E.firstElementChild:null);A=R.Id;p.onTap(Q,function(){if(!B&&I.Id!==P.Id){D=P.Id;G.placeholder="回复 "+P.Nickname+"：";G.focus()}})}function y(J){g.request("api/Comment/Index",i.extend({relateId:q},C?{lastId:A}:{}),function(L,K){j.remove(C);n.foreach(K,function(M){x(M)});C=K.length===15?j("div",{css:{margin:"15px 0","text-align":"center",height:"9px"},children:[j(o.LoadingChrysanthemum(),{css:{width:"9px",height:"9px"}}),j("div",{css:{display:"inline-block","vertical-align":"top","font-size":"9px","line-height":"9px","margin-left":"5px",color:"#8e9193"},innerHTML:"加载中..."})]},E):null;J&&J()},true)}function w(){if(r.classList.contains("hidden")){return}if(G.value!==""){var J=j("div",{css:{position:"absolute",border:"1px solid",width:"51px",height:"26px",right:"10px",top:"50%","margin-top":"-13px"},children:[o.LoadingButton()]},H);r.classList.add("hidden");g.request("api/Comment/Add",i.extend({RelateId:q,Type:0,Content:G.value},D?{ReplyUserId:D}:{}),function(L,M){if(L==null){x(M,true);G.value="";G.blur();z();E.scrollTop=0;var K=u.parentNode?u.parentNode.querySelector(".comment"):null;if(K){K.innerHTML=parseInt(K.innerHTML)+1}}else{p.alert("出错了,请重试")}r.classList.remove("hidden");j.remove(J)})}}function z(){l(G,"height","14px");l(G,"height",l.px(G.scrollHeight))}p.onPointerDown(E,function(){if(document.body.classList.contains("focus")){B=true;G.blur()}});p.onPointerUp(u,function(){B=false});j.bind(G,"blur",function(){D=null;G.placeholder="说点什么..."});j.bind(G,"input",z);p.onPointerDown(r,function(J){J.preventDefault()});p.onTap(r,w);j.bind(F,"submit",function(J){J.preventDefault();w()});j.bind(E,"scroll",function(){if(!s&&C&&E.scrollHeight-E.scrollTop-E.clientHeight<39){s=true;y(function(){s=false})}});h.concurrency([y,function(J){g.getUserInfo(function(K,L){I=L.User;j(v(I.HeadPhoto),{css:{left:"15px",top:"50%","margin-top":"-15px"}},H);J()},true)}],function(){j.remove(t);E.classList.remove("hidden");H.classList.remove("hidden")})}});d(function(){function i(m){var o=m[0],q=m[1],p=o===0?0:Math.sqrt(1/(1+q*q/o*o)),n=o===0?o>0?1:-1:-q*p/o;return[n,p]}function l(n,m){return(n[0]*m[1]-m[0]*n[1])>0?1:-1}function k(n){var m=n[0],o=n[1];return Math.sqrt(m*m+o*o)}function j(p,o){function m(q){return 180-(Math.atan2(q[0],q[1])/Math.PI*180+180)%180}var n=(m(o)-m(p)+180)%180;return n>=90?n-180:n}function h(n,m){return n[0]*m[0]+n[1]*m[1]}function g(n,m){return Math.acos(h(n,m)/(k(n)*k(m)))}d["52"].vertical=i;d["52"].cross=l;d["52"].norm=k;d["52"].rotation=j;d["52"].dot=h;d["52"].includedAngle=g});d(function(){function h(i){return Math.acos(i[1])-Math.PI/2}function g(i){return i[2]>=0?Math.atan(i[0]/i[2]):Math.atan(i[0]/i[2])+Math.PI}d["53"].lat=h;d["53"].lng=g});d(function(){var k=d["50"],n=d["1"],r=d["13"],l=d["8"],o=d["6"],y=d["16"],s=d["26"],i=d["29"],g=d["5"],m=d["4"],w=d["2"],t=d["18"],q=t.matrix,h=d["52"],j=d["53"],p=d["47"],x=d["15"],v=d["32"],u=d["14"];d["54"]=function(F,z){var E=l(i.Loading(),F),A=u.iphone6?30:u.iphone5?25:20,Q=document.documentElement.clientWidth>=360?36:30,H=136,V=q.eye(),O=Math.min(document.documentElement.clientHeight-136-80,document.documentElement.clientWidth-60)/2,J=false,R=0,I=JSON.parse(x("sphere")||"null"),S=[],D=null,X=l("div",{css:w.extend(o.full(),{background:"rgba(0,0,0,0.88)"})},F),L=l("div",{css:{position:"absolute",left:0,top:0,right:0,bottom:o.px(H)}},F),T=l("div.hidden",{css:{position:"absolute",left:0,height:o.px(H),right:0,bottom:0}},X),K=l("div",{css:{perspective:"800px","transform-style":"preserve-3d",position:"absolute",left:"50%",top:"50%"}},L),C=y.Icon("comment/like"),N=l("div",{css:{position:"relative",display:"inline-block",height:"44px",width:"44px","border-radius":"22px",background:"white"}},l("div",{css:{position:"relative","text-align":"center"}},T)),B=l(C,{css:w.extend(o.center(C.w),o.middle(C.h))},N),P=l(y.Icon("comment/liking"),{css:w.extend(o.center(C.w),o.middle(C.h))},N),G=l("div",{css:{"margin-top":"10px","font-size":"14px","text-align":"center",color:"white"}},T),Y=[1,0],W=0.3,U=false;function M(Z){var aa=F.parentNode?F.parentNode.querySelector(".like"):null;if(aa){aa.innerHTML=Z}return Z}l(y.Icon("comment/close"),{css:{position:"absolute",right:"15px",top:"15px"}},F);s.onTap(l("div",{css:{position:"absolute",right:0,top:0,width:"50px",height:"50px"}},F),function(){F.slideOut()});if(I==null){S.push(function(aa){var Z=r({url:window.contentPath+"sphere.json"},function(){I=JSON.parse(Z.responseText);x("sphere",function(){return JSON.stringify(I)});aa()})})}S.push(function(Z){k.request("api/Comment/Like",{relateId:z,take:A},function(ab,aa){D=aa;Z()},true)});S.push(function(Z){k.request("api/Total/Index",{relateId:z,like:true},function(ab,aa){R=aa.Like;J=aa.IsLike;Z()},true)});m.concurrency(S,function(){var Z=[];l.remove(E);T.classList.remove("hidden");G.innerHTML=M(R)+(J?"已赞":"赞");if(J){B.classList.add("hidden")}else{P.classList.add("hidden")}function ab(af,ah){var ag=l("div",{css:{position:"absolute",background:o.url(af.User.HeadPhoto),width:o.px(Q),height:o.px(Q),top:"-15px",left:"-15px","background-size":"cover"}},K),ae=ag.tips=l("div",{css:{position:"absolute",display:"inline-block",background:"rgba(255,255,255,0.85)",height:"26px",padding:"0 10px","line-height":"26px","font-size":"12px","border-radius":"2px","transform-origin":"50% 31px",top:"-35px"},children:[l("div",{css:{"max-width":"150px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},innerHTML:af.User.Nickname}),l("div",{css:{position:"absolute",top:"100%",left:"50%","margin-left":"-3px","border-top":"rgba(255, 255, 255, 0.85) 5px solid","border-left":"transparent 3px solid","border-right":"transparent 3px solid"}})]},ag);ae.show=function(ai){o.transform(ae,o.scale(Math.max(0.001,ai)))};ae.show(0);l.onInsert(ae,function(){o(ae,"left",o.px((ag.offsetWidth-ae.offsetWidth)/2<<0))});ah?Z.unshift(ag):Z.push(ag);return ag}n.foreach(D,function(ae){ab(ae)});function aa(){n.foreach(Z,function(ae,af){var ag=I[Math.max(Z.length,4)];ae.position=[ag[af*3],ag[af*3+1],ag[af*3+2],1]})}function ac(){n.foreach(Z,function(ag){var ae=ag.tips,ah=t.transform(V,ag.position);function af(ai){if(ae.animation){ae.animation.remove()}ae.animation=v.requestFrames({duration:0.3,onAnimate:function(aj){ae.show(ai?aj:1-aj)},onEnd:function(){ae.animation=null}});ag.isIn=ai}if(!U){if(!ag.isIn&&ah[2]>0.77){af(true)}else{if(ag.isIn&&ah[2]<0.77){af(false)}}}o.transform(ag,o.translate(ah[0]*O,ah[1]*O,ah[2]*O),o.rotateY(j.lng(ah)/Math.PI*180),o.rotateX(j.lat(ah)/Math.PI*180))})}s.onPointerDown(L,function(){if(!U){U=true;n.foreach(Z,function(af){var ae=af.tips;if(ae.animation){ae.animation.remove()}ae.animation=null;af.isIn=false;ae.show(0)});p({onMove:function(ag){var ae=Y=[ag.dX,ag.dY],af=h.vertical(ae);V=t.combine(q.rotate([af[0],af[1],0],h.cross(ae,af)*h.norm(ae)/75),V);ac()},onUp:function(ae){W=h.norm([ae.speedX,ae.speedY])*2;U=false}})}});var ad=v.requestFrame(function(){if(!U){W+=(0.5-W)/30;var ae=h.vertical(Y);V=t.combine(q.rotate([ae[0],ae[1],0],h.cross(Y,ae)*W/75),V);ac()}});s.onTap(N,function(){if(!U&&!J){var ae=l(i.LoadingButton(),N.parentNode);N.classList.add("hidden");k.request("api/Comment/Add",{RelateId:z,Type:1},function(af,ag){if(af==null){U=J=true;l(ab(ag,true),{css:{transform:"scale(0.01)"}});n.foreach(Z,function(ah){o(ah,"transition","0.3s")});setTimeout(function(){V=q.eye();aa();ac();setTimeout(function(){n.foreach(Z,function(ah){o.remove(ah,"transition");U=false})},350)},20);G.innerHTML=M(R+1)+"已赞";l.remove(ae);N.classList.remove("hidden");B.classList.add("hidden");P.classList.remove("hidden")}else{s.alert("出错了,请重试")}})}});aa();ac();F.onSlideOut&&F.onSlideOut(function(){ad.remove()})})}});d(function(){var j=d["8"],i=d["2"],p=d["1"],l=d["6"],k=d["16"],r=d["26"],m=d["27"],g=d["50"],q=d["51"],h=d["54"],o=m.registLoginPage("comment",g,q),n=m.registLoginPage("like",g,h);d["55"]=function(w){var z=j("div",{css:{position:"absolute",height:0,bottom:0,right:0,width:0,"z-index":"100"}},w),v=w.workData,x=w.workId,s=t(k.Icon("comment"),3),y=t(k.Icon("like"),2),u=t(k.Icon("more"),1);function t(D,B){var C;return C=i.insert(j("div",{css:{position:"absolute",display:"none",height:"32px",width:"32px",top:0,right:"15px",transition:"0.25s ease-in-out",background:"rgba(0,0,0,0.88)","border-radius":"16px"},children:[j("div",{css:{position:"absolute",left:"-14px",top:"-8px",right:"-14px",bottom:"-7px"}}),j(D,{css:{position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%,-50%,0)"}})]},z),{show:function(E){l.transform(C,l.translate(0,E?-((15+32)*B-5):0,0))}})}function A(B){p.foreach([s,y,u],function(C){C.show(B)});z.showed=B}r.onTap(s,function(){o({data:x,parent:w,force:true})});r.onTap(y,function(){n({data:x,parent:w,force:true})});r.onTap(u,function(){var F=j("div",{css:l.full({transition:"0.2s",background:"rgba(0,0,0,0.88)","z-index":10})},document.body),I=j("div",{css:{transition:"0.2s",position:"absolute",bottom:0,left:0,right:0,"z-index":11}},document.body),E=H(),D=H();function H(){return j("div",{css:{margin:"0 7px 6px 7px","font-size":"18px",color:"#0172fe",background:"rgba(255,255,255,0.94)","border-radius":"4px"}},I)}function C(L,K,J){return j("div",{css:{"line-height":"44px",color:J?J:"inherit","text-align":"center","border-top":K.firstElementChild?"1px solid black":"none"},innerHTML:L},K)}function B(J){if(J){l(F,"opacity",1);l(I,"transform","translate3d(0,0,0)")}else{l(F,"opacity",0);l(I,"transform","translate3d(0,100%,0)")}}function G(){var J=r.Lock();B(false);setTimeout(function(){j.remove(F);j.remove(I);J.remove()},250)}r.onTap(C("关注作者",E),function(){m.follow(v.uid)});r.onTap(C("在初页APP中打开",E),function(){m.openInClient(x,v.uid)});r.onTap(C("举报",E,"#fe2454"),function(){m.report(x)});r.onTap(C("取消",D),G);r.onTap(F,G);B(false);setTimeout(function(){B(true)},20)});return i.insert(z,{show:A,prepare:function(){g.getIndex(x,function(C,B){if(C==null){function D(G,F,E){return j("div",{classList:E,css:{display:"inline-block",position:"absolute",top:0,left:"50%",height:"11px","line-height":"11px","font-size":"9px","min-width":"11px",transform:"translate3d(-50%,0,0)","border-radius":"6px",background:"#fe2e54",color:"white",padding:"0 2px","text-align":"center"},innerHTML:G},j("div",{css:{position:"absolute",top:0,right:0,width:0,"border-radius":"6px"}},F))}D(B.Text,s,"comment");D(B.Like,y,"like")}});setTimeout(function(){A(true)},20)}})}});d(function(){function g(l){var k=0,j=l.length;return{eat:function(){++k},unEat:function(){--k},cur:function(){return l.charAt(k)},isEnd:function(){return k>=j}}}function h(i){var j=i.read();return{eat:function(){return j=i.read()},cur:function(){return j},isEnd:function(){return j===null}}}d["56"].StringStream=g;d["56"].ReaderStream=h});d(function(){var h=d["56"],g=h.StringStream,i=d["1"];d["57"]=function(k){var j=[];i.foreach(k.split("\n"),function(l){if(l!==""){l=l.replace("\r","");var r=g(l);var q=[],m,p;function o(s){var t="",u;while((u=r.cur())!==s){t+=u;r.eat()}return t}while(r.cur()==="["){r.eat();if(!isNaN(parseInt(r.cur(),10))){m=parseInt(o(":"),10);r.eat();p=parseFloat(o("]"));r.eat();q.push(m*60000+p*1000)}else{r.unEat();break}}if(q.length!==0){var n=o("");i.foreach(q,function(s){j.push({start:s,lyric:n,pos:j.length})})}}});j.sort(function(m,l){return m.start<l.start?-1:m.start>l.start?1:m.pos<l.pos?-1:1});if(j[0].start!==0){j.unshift({start:0,lyric:" "})}return j}});d(function(){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var i=[];for(var g=0;g<k.length;g++){i[k.charCodeAt(g)]=g}function j(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");var m=p.length;while(p.charAt(m-1)==="="){m--}var l=new Uint8Array((m/4*3)<<0);for(var n=0,o=0;n<m;n+=4,o+=3){n+1<m&&(l[o+0]=((i[p.charCodeAt(n+0)]&63)<<2)|((i[p.charCodeAt(n+1)]&48)>>4));n+2<m&&(l[o+1]=((i[p.charCodeAt(n+1)]&15)<<4)|((i[p.charCodeAt(n+2)]&60)>>2));n+3<m&&(l[o+2]=((i[p.charCodeAt(n+2)]&3)<<6)|((i[p.charCodeAt(n+3)]&63)<<0))}return l}function h(m){var n=m.byteLength;var l="";for(var o=0;o<n;o+=3){l+=k.charAt((m[o]&252)>>2);l+=k.charAt(((m[o]&3)<<4)|(o+1<n?(m[o+1]&240)>>4:0));l+=o+1<n?k.charAt(((m[o+1]&15)<<2)|(o+2<n?(m[o+2]&192)>>6:0)):"=";l+=o+2<n?k.charAt((m[o+2]&63)<<0):"="}return l}d["58"].decode=j;d["58"].encode=h});d(function(){d["59"]=function(i,h,g){return["data:",[i,h].join(";"),",",g].join("")}});d(function(){var i=d["13"],h=d["6"],g=d["58"],j=d["59"],k=0;d["60"]=function(m,n){var l="f"+k++;i({url:m,responseType:"arraybuffer"},function(o,q){if(!o){try{h.insertRules("@font-face",{"font-family":"'"+l+"'",src:h.url(j("application/octet-stream","base64",g.encode(new Uint8Array(q.response))))+" format('truetype')","font-weight":"normal","font-style":"normal"})}catch(p){n(p);return}n(null,l)}else{n(o)}});return l}});d(function(){var r=d["57"],m=d["8"],k=d["32"],j=d["10"],l=d["2"],o=d["60"],t=d["13"],u=d["5"],p=d["1"],n=d["6"],h=d["33"],i=d["4"],g=d["14"];function q(y,v,x){var w=m("span",v);u.foreach(y,function(z){if(/[A-Za-z']/.test(z)){w.innerHTML+=z;w.english=true}else{w.english&&(v.innerHTML+=" ");w=m("span",{css:{position:"relative","margin-left":n.px(w.english?x*2:x)},innerHTML:w.english?z.replace(" ",""):z},v)}});return v.querySelectorAll("span")}var s={1:function(w,v){return function(A,z){var y=m("div.lyric",{css:{"font-size":"20px",position:"absolute","text-shadow":"0.5px 0.866px 2px rgba(0, 0, 0, 0.5)",color:"white","z-index":"100",bottom:"50px",width:"100%",left:0,"text-align":"center","font-family":v}},w),x=q(A,y,3);j.runAnimation(p.map(x,function(C,B){return[C,{0:{opacity:0,filter:"blur(10px)"}},0.7,B*0.035,"linear"]}));setTimeout(function(){j.runAnimation(p.map(x,function(B){return[B,{100:{opacity:0,filter:"blur(10px)"}},0.7]}),function(){m.remove(y)})},z-500)}},2:function(w,v){return function(A,z){var y=m("div.lyric",{css:{"font-size":"18px",position:"absolute","text-shadow":"0.5px 0.866px 2px rgba(0, 0, 0, 0.5)",color:"white","z-index":"100",bottom:"25px",right:"25px","font-family":v}},w),x=q(A,y,5);j.runAnimation(p.map(h.arrange(x),function(C,B){return[C,{0:{opacity:0,filter:"blur(10px)"}},0.7,B*0.07]}));setTimeout(function(){j.runAnimation(p.map(h.arrange(x),function(C,B){return[C,{100:{opacity:0,filter:"blur(10px)"}},0.7,B*0.035]}),function(){m.remove(y)})},z-500)}},3:function(w,v){var x=true;return function(B,A){var z=m("div.lyric",{css:l.extend({width:"250px","font-size":"36px","line-height":"44px",position:"absolute","text-shadow":"0.5px 0.866px 2px rgba(0, 0, 0, 0.5)",color:"white","z-index":"100","font-family":v,top:"50%","margin-top":n.px(h.range(-180,180))},x?{left:n.px(h.range(15,30))}:{right:n.px(h.range(15,30))})},w),y=q(B,z,5);p.foreach(y,function(D,C){C!==0&&C!==y.length-1&&n(D,"top",n.px((C%2===0?1:-1)*h.range(3,6)))});x=!x;if(z.offsetHeight+z.offsetTop>document.documentElement.clientHeight){n(z,{top:"auto","margin-top":0,bottom:n.px(h.range(20,60))})}j.runAnimation(p.map(h.arrange(y),function(D,C){return[D,{0:{transform:n.scale(5),opacity:0}},0.3,C*0.07,n.bezier([0.52,0.21,0.8,0.51])]}));setTimeout(function(){j.runAnimation(p.map(h.arrange(y),function(D,C){return[D,{100:{opacity:0}},0.3,C*0.035]}),function(){m.remove(z)})},A)}}};d["61"]=function(z,x,v){var y=z.workData,B=y.music,D,C,A,w;if(!B.lrc){return}i.concurrency([function(E){D=t({url:B.lrc},function(F){if(F){D=null;return}try{C=r(D.responseText);D=null}catch(G){return}E()})},function(E){B.font?A=o(B.font,E):E()}],function(){var G=s[B.mode||v||1](z,A||"inherit"),E=parseFloat(B.delay||0),F=0,H;w=k.requestFrame(function(){if(H!==undefined&&x.currentTime<H){F=0}var I=C[F];if(I&&x.currentTime*1000>I.start+E*1000){++F;if(I.lyric){G(I.lyric,C[F].start-I.start)}}H=x.currentTime})});return{remove:function(){D&&D.abort();w&&w.remove();p.foreach(z.querySelectorAll(".lyric"),m.remove)}}}});d(function(){var m=d["1"],i=d["4"],g=d["16"],k=d["8"],h=d["6"],l=d["11"];function j(o){var n=k("input.need-default",{type:"file",accept:"image/*",multiple:"true"});k.bind(n,"change",function(){var p=[];i.concurrency(m.map(n.files,function(r,q){return function(t){var s=new FileReader();s.onload=function(){p[q]=(r.type?s.result:"data:application/octet-stream;"+s.result.substr(s.result.indexOf("base64,")));t()};s.readAsDataURL(r)}}),function(){o&&o(p)})});l.onPointerDown(n,function(p){p.stopPropagation()});return n}d["62"]=function(o,r){var p=JSON.parse(JSON.stringify(o.workData)),n=[];p.cut=false;m.foreach(p.pages,function(s){if(s.label==="custom-2"||s.label==="SingleImage"){m.foreach(s.image,function(v){var t=v.imageinfo,u=v.url;if((t==null&&!g.isColor(u)&&s.custom.type!=="y")||t&&t.type==="image"){n.push(v)}})}});function q(){return j(function(s){m.foreach(s,function(u){if(n.length){n[0].url=u;n.shift()}});if(n.length>0){k("div",{css:h.full({"z-index":101,background:"white"}),children:[k("div",{css:{position:"absolute",width:"100%",top:"50%","text-align":"center","line-height":"14px","font-size":"14px","z-index":1,"pointer-events":"none"},innerHTML:"还需要"+n.length+"张"}),k(q(),{css:{position:"absolute",width:"100%",height:"100%","z-index":0,opacity:0}})]},o)}else{var t=r({workData:p,width:o.offsetWidth,height:o.offsetHeight});o.parentNode.replaceChild(t,o);t.play()}})}k("div",{css:{position:"absolute",right:"0",top:"50px",width:"44px",height:"44px","z-index":100,"font-size":"10px"},children:[k("div",{css:{position:"absolute",width:"100%",height:"100%","text-align":"center","line-height":"44px",background:"rgba(0,0,0,0.3)","z-index":1,"pointer-events":"none"},innerHTML:"我的("+n.length+")"}),k(q(),{css:{position:"absolute",width:"100%",height:"100%","z-index":0,opacity:0}})]},o)}});e(function(){var t=d["1"],g=d["5"],F=d["2"],q=d["8"],B=d["32"],h=d["33"],w=d["6"],n=d["31"],s=d["0"],r=d["4"],p=d["43"],o=d["48"],i=d["29"],l=d["35"],j=d["25"],A=d["27"],v=d["45"],y=v.pageAnimations,m=d["40"],z=d["14"],x=d["26"],k=d["55"],u=d["61"],D=d["62"],C=d["34"],E=[l.classic,l.push,l.fade,l.cube,l.door,l["switch"],l.uncover];C.Modes.classic=C.Modes.push=C.Modes.click=function(J,G){var K,L=G.pageIndex||0,I=r.Schedule(),H=r.Schedule();return{play:I.start,preloadPage:H.start,resize:function(N,M){if(K){K.resize(N,M);K.play()}},recycle:function(){K&&K.recycle()},load:function(aa){var T=J.workData,W=parseInt(T.theme)?v.Theme(T):null,V=T.mode,Q=T.pageSwitch,X=V==="push"||!l[Q]?"classic":Q,N=T.noLoop,ac=J.pageNumber,ae,M,ad=null,S=null,P=L===ac-1,Y=G.preview?o(J,W):null,U=G.toolbar&&!G.preview?k(J):null,Z=q("div.hidden",{css:{position:"absolute",left:"15px",bottom:"20px","text-shadow":"1px 1px 1px black",color:"white","z-index":1}},J),O=q("span",{css:{"font-size":"16px"},innerHTML:L+1},Z);N;G.music&&p(J,ae=q(i.Music()));function R(ag,ah){J.loadPage(ag,function(aj){if(aj){var ai=aj.wrapper,ak=ai.applyEnter;aj.switchAnimate=(Q==="random"?h.select(E):l[X]);if(W){aj.switchAnimate=W.switchAnimation;ak&&m.applyAnimate(aj,ak.pageAnimation?y[ak.pageAnimation]:W.appliedGroup[aj.index])}aj.prepare()}ah(aj)})}function ab(ag){return(ag+ac)%ac}function af(){var ag=K.index;s.recursion(function ah(aj,ai){aj!==0&&r.concurrency(t.map([-ai,ai],function(ak){return function(al){J.loadPage(ag+ak,al,false)}}),function(){ah(aj-1,ai+1)})},2,1)}R(L,function(ai){var ag=J.appendChild(i.CutFirst());K=J.appendChild(ai);I.prepare(function(){K.play()});H.prepare(af);if(J.playAudio){x.onTap(J.appendChild(ae),function(){ae.play?J.stopAudio():J.playAudio()});z.MicroMessenger&&(z.ios&&window.WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},J.playAudio):J.playAudio())}function ah(aj){ad=null;q.remove(M);s.recursion(function ak(){M=J.appendChild(i.LoadingNewPage());ad=ak;R(ab(L+aj),function(am){q.remove(M);if(ad===ak){var an=K;an.fastForward();an.recycle();q.classList(J).remove("last-page");K=am;O.innerHTML=(L=K.index)+1;af();var al=x.Lock();j.cutPage(function(){S=(aj>0?K.switchAnimate:l.back)(J,an,K,function(){S=null;q.remove(an);J.appendChild(K);K.play();if(L===ac-1){P=true;J.classList.add("last-page")}al.remove();U&&U.show(aj<0||L===ac-2||L===0);Y&&Y(K);A.track(["PV",J.workId,z.systemName])})})}})})}s.callWith(function(aj){x.onSwipeStart(J,function(ak){if(ak.yOut&&Math.abs(ak.dX)<10){var al=ak.dY<0;if(!(!al&&(L===0&&(!P||N)))){aj(al?1:-1)}}})},function(aj){if(x.preventBodyEvent||x.preventDrag||N&&L===ac-1&&aj===1){return}if(ag){q.remove(ag);ag=null;J.appendChild(i.Cut());J.audioPlayIntention&&J.playAudio&&J.playAudio()}ah(aj)});Z.appendChild(q("span",{innerHTML:"/"+ac,css:{"font-size":"12px"}}));Object.defineProperty(J,"curPage",{get:function(){return K}});Object.defineProperty(J,"curPageIndex",{get:function(){return L},set:function(aj){if(!document.documentElement.classList.contains("lock")){aj=ab(aj);if(aj!==L){ah(aj-L)}}}});Object.defineProperty(J,"curPageData",{get:function(){return T.pages[L]}});U&&U.prepare();Y&&Y(K);location.hash==="#edit"&&D(J,C);aa()})}}}});d(function(){var i=d["0"],g=d["2"],h=d["6"];d["63"]=function(k){function q(v){var t={},u=0;return{transition:function(w){u+=w},progress:function(){return t},push:function(y,w){var x,z;if(w===undefined){x=0;z=y}else{x=y;z=w}t[((u+=x)*100/v).toFixed(2)]=z},time:function(){return u},end:function(w){t[100]=w}}}function n(t,u,v,w){t.push(g.extend(v,{opacity:0}));t.push(u,g.extend(v,{opacity:1}));if(!w){t.push(u,g.extend(v,{opacity:0}))}}function o(t){var x=q(t.duration),v=t.endScale,z=t.times,w=t.scaleGain,y=0.08,u=0.1;i.loop(z,function(A){var B=A-1===z;n(x,y,{scale:v-(z-A-1)*w},B);!B&&x.transition(u)});return x}function m(u){var t=o({endScale:1,scaleGain:0.15,duration:u,times:4});t.end({scale:1.15});return t}function r(u){var t=o({endScale:1.15,scaleGain:-0.15,duration:u,times:4});t.end({scale:1});return t}function p(u){var t=q(u);t.push({scale:2.5,timing:"ease"});t.push(0.2,{scale:1.15});return t}function j(u){var t=q(u);t.push({scale:2.5,timing:"ease"});t.push(0.2,{scale:1});t.end({scale:1.15});return t}function l(w){var v=q(w),u=null;v.push({scale:0.01,timing:"ease"});v.push(0.3,{scale:1.1});while(v.time()<w){var t;do{t=k.select([[1,1],[1,-1],[-1,1],[-1,-1]])}while(JSON.stringify(t)===JSON.stringify(u));u=t;v.push(0.2,{filter:h.tuple("blur",[h.px(k.range(1,3))]),x:t[0]*k.range(5,7),y:t[1]*k.range(5,7),scale:1.1})}v.end({scale:1.1});return v}function s(x){var u=q(x),w=k.select([true,false]),v=k.select([true,false]);function t(z,B){function A(y,C){return y?C:1-C}return[A(w,z),A(v,B)]}u.push({scale:2,origin:t(k.range(0,0.2),k.range(0,0.2)),timing:"ease"});u.push(0.3,{scale:2,origin:t(k.range(0,0.8),k.range(0.4,0.6)),timing:"ease"});u.push(0.3,{scale:2,origin:t(k.range(0,0.2),k.range(0.8,1)),timing:"ease"});u.push(0.3,{scale:1.2,origin:[0.5,0.5]});return u}return{fastShrinkToExpand:j,fastShrink:p,flashExpand:m,flashShrink:r,shake:l,shiftFocus:s}}});e(function(){var s=d["1"],g=d["5"],F=d["2"],n=d["8"],B=d["32"],t=d["6"],k=d["31"],p=d["0"],o=d["4"],C=d["10"],m=d["63"],l=d["43"],h=d["29"],j=d["35"],i=d["25"],A=d["27"],y=d["14"],v=d["26"],z=d["19"],q=d["24"],w=d["61"],E=d["62"],D=d["34"];function x(G){return window.contentPath+"blend/"+G+".jpg"}function u(K){var I=K.wrapper,J=[],G=[],H=null;z.loopComponent(I,function(L){if(L.isElement){G.push(L)}});if(G.length>1){H=z.Component(q.Rect(I.w,I.h),I);s.foreach(G,function(L){L.appendTo(H)})}else{if(G.length===1){H=G[0]}}return{background:H,texts:J}}var r={"mv-1":function(L,G){var H=L.random,J=1.15,M=7,N=null,O=s.map(s.range(2),function(R){var S=new Image();S.onload=function(){S.loaded=true};S.src=x(R);return S}),P=L.pageNumber,Q=[];if(G&&G.end){var I=0,K=s.foreach(G.end,function(R){var S=(I=R)/(M+1);if(S>P-1){return Math.floor(S)}});Q=s.map(s.range(K),function(R){return R%(P-1)});Q.push(P-1);M=I/K-1}else{Q=s.range(P)}return{startLoadNumber:1,preloadNumber:3,lyricMode:2,play:function(S){p.recursion(function R(){var T=Q.shift();L.loadPage(T,function(ad){var ae=N;N=ad;if(ad.label==="SingleImage"||ad.label==="components"){var ac=ad.wrapper,Y=u(ad),U=Y.background,ab=ac.w,W=H.select(O);function X(al,ak){var aj=J*50-50;return{"0":{scale:J,x:aj*al+"%",y:aj*ak+"%"},"100":{scale:J,x:-aj*al+"%",y:-aj*ak+"%"}}}if(H.probability(0.7)&&W.loaded){var ah=z.Component(q.Image(W,{w:ac.h*W.naturalWidth/W.naturalHeight,h:ac.h}),ac),ag=ah.w,af=H.select(["screen","lighten","soft-light"]),V=af==="lighten"?0.3:1;t(ah.element,"mix-blend-mode",af);ah.opacity=0;ah.enter={duration:M,progress:function(an,ap){var ak=100/(an+0.7),aj=100/an/ap,am={},aq=0,ao=0;function al(ar,at){am[ar.toFixed(2)]=at}p.loop(an,function(){var ar=aj*H.range(0.7,1.2)*2;aq+=ak*H.range(0.9,1.1);al(aq,{absOpacity:0,x:ao});al(aq+ar,{absOpacity:(0.6*H.range(0.8,1.2))*V,x:(ab-ag)/2});al(aq+ar*2,{absOpacity:0,x:ao=(ab-ag)-ao})});return am}(H.select([2,3]),M),timing:B.Timing.linear}}else{var Z=z.cloneComponent(U),aa=U,ai=H.select([Z,aa]);U=z.Component(q.Rect(ac.w,ac.h),ac);Z.appendTo(U);aa.appendTo(U);Z.opacity=0;t(ai.element,"filter",H.select(["blur(10px)","grayscale(1)","contrast(200%)","hue-rotate(90deg)"]));Z.enter={duration:M,progress:{0:{absOpacity:1}},timing:B.Timing.linear};aa.enter={duration:M,progress:{0:{absOpacity:0}},timing:B.Timing.linear}}U.enter={both:true,duration:M+1,progress:H.select([X(1,0),X(-1,0),X(0,1),X(0,-1),{"0":{scale:J}},{"100":{scale:J}}]),timing:B.Timing.linear}}ad.prepare();p.callWith(function(aj){if(ae){ad.play();i.cutPage(function(){j.fade(L,ae,ad,function(){n.remove(ae);aj()},1)})}else{L.appendChild(ad);ad.play();aj()}},function(){S.preloadPage(T+1);if(ad.label!=="author"){setTimeout(function(){R()},M*1000)}else{S.end()}})})})}}},"mv-2":function(K){var M=K.random,I=3,L=null,J=m(M),H=K.pageNumber,G=[];return{startLoadNumber:1,preloadNumber:3,lyricMode:3,load:function(N){o.concurrency(s.map([5,4],function(O){return function(P){var Q=new Image();Q.src=x(O);Q.onload=P;G.push(Q)}}),N)},play:function(O){s.foreach(G,function(P){t(P,{position:"absolute",left:0,top:0,height:"100%","mix-blend-mode":"lighten","z-index":1000});K.appendChild(P)});C.runAnimation([[G[0],{50:{transform:t.translate(K.w-G[0].offsetWidth,0,0)}},120,"linear","infinite"],[G[1],{0:{transform:t.translate(K.w-G[0].offsetWidth,0,0)},50:{transform:t.translate(0,0,0)},100:{transform:t.translate(K.w-G[0].offsetWidth,0,0)}},120,"linear","infinite"]]);p.recursion(function N(P){K.loadPage(P,function(S){var T=L;L=S;if(S.label==="SingleImage"||S.label==="components"){var Q=u(S),R=Q.background;R.enter={both:true,duration:I+1,progress:M.select([J.fastShrink(I+1),J.flashExpand(I+1),J.flashShrink(I+1),J.shake(I+1),J.shiftFocus(I+1),J.shiftFocus(I+1),J.fastShrinkToExpand(I+1)]).progress(),timing:B.Timing.linear}}S.prepare();p.callWith(function(U){if(T){S.play();i.cutPage(function(){j.fade(K,T,S,function(){n.remove(T);U()},0.1)})}else{K.appendChild(S);S.play();U()}},function(){O.preloadPage(P+1);if(S.label!=="author"){setTimeout(function(){N((P+1)%(H-1))},I*1000)}else{O.end()}})})},0)}}}};D.Modes.mv=D.Modes["mv-1"]=D.Modes["mv-2"]=function(I){var H=o.Schedule(),G=o.Schedule();return{play:H.start,preloadPage:G.start,resize:function(){},recycle:function(){},load:function(L){var K=I.workData,M=n(h.Album()),N=l(I,M),O=(r[K.mode]||r["mv-1"])(I,K.music);function J(P){var Q=P||0;p.recursion(function R(T,S){if(T>0){I.loadPage(Q+S,function(){R(T-1,S+1)},false)}},O.preloadNumber,1)}o.concurrency(s.map(s.range(O.startLoadNumber),function(P){return function(Q){I.loadPage(P,Q)}}).concat(function(P){O.load?O.load(P):P()}),function(){H.prepare(function(){p.callWith(function(P){!y.chuyeList&&(y.ios&&window.WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},P):P())},function(){p.callWith(function(P){I.playAudio();if(N.paused){}else{P()}},function(){var P=w(I,N,O.lyricMode);I.appendChild(M);O.play({preloadPage:J,end:function(){n.remove(M);n.remove(N);P.remove()}})})})});G.prepare(J);location.hash==="#edit"&&E(I,D);L()})}}}});e(function(){var m=d["2"],s=d["9"],k=d["4"],q=d["1"],o=d["6"],l=d["10"],n=d["8"],u=d["43"],p=d["29"],j=d["40"],r=d["37"],t=d["61"],g=d["62"],h=d["14"],i=d["34"],v=s(location.href).arg;i.Modes.scroll=function(w){var y,x=v.lyric;return{load:function(B){function D(E){return E/40}function A(){if(y){var E=y.index;function F(H,G){H!==0&&k.concurrency(q.map([-G,G],function(I){return function(J){w.loadPage(E+I,J)}}),function(){F(H-1,G+1)})}F(3,1)}}function z(E,F){w.loadPage(E,function(I){if(!I){F(null);return}var H=0,G=j.analyzePage(I);if(v["no-text"]){G.text=[]}I.innerHTML="";q.foreach(G.text.concat(G.image.concat(G.background||[])),function(J){var K=J.h-(w.h-106);J.x=H;J.scale=1;if(K>0){J.scale=1-K/J.h}else{if(x==="top"&&J.y<56){J.y=56}}I.appendChild(J.element);J.enter=m.extend(r.fadeIn,{duration:1.5,delay:D(H)+D(Math.min(J.w,w.w/3)+40)});H+=J.w+20});o.size(I,I.w=H+20,I.h=w.h);o(I,"background","white");F(I)})}function C(F,G){function E(H){z(H,function(J){if(!J){G&&G();return}var I=l.runAnimation([[J,{0:{transform:o.translate(w.w,0,0)},100:{transform:o.translate(-J.w,0,0)}},o.s(D(J.w+w.w)),"linear"]],function(){n.remove(J)},{play:false});setTimeout(function(){E(H+1)},D(J.w)*1000);A();w.appendChild(y=J);J.prepare();J.play();I.play()})}E(F)}k.concurrency([function(E){w.loadPage(0,E)},function(E){w.loadPage(1,E)}],function(){var E=u(w,n(p.Album(),w));C(0);o(w,"background","white");t(w,E,"/ignore/"+w.workId+".txt",x);h.ios&&window.WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},w.playAudio):w.playAudio();location.hash==="#edit"&&g(w,i);B()})},recycle:function(){},play:function(){},preloadPage:function(){},resize:function(){}}}});e(function(){var k=d["16"],u=d["11"],i=d["4"],z=d["2"],q=d["13"],l=d["9"],m=d["6"],y=d["27"],g=d["29"],v=d["14"],s=d["26"],t=d["38"],w=d["19"],j=d["24"],r=w.Component,n=w.formats,o=false,h=d["50"];function x(A,C,B,p){s.onPointerDown(A,function(){C();s.onTapUp(p);i.once(function(){B()},function(D){return[u.onMoveUp({onUp:D}),s.onSwipe(D,true),s.onLongPress(D)]})})}n.author={load:function(B,p){var C=[],A=B.data;if(!o&&h.isLogIn()){C.push(function(D){h.request("api/follow/state",{userId:A.uid},function(F,E){if(F===null){o=E}D()})})}if(A.author==null){C.push(function(D){var E=q({url:l.concatArg(window.virtualPath+"/WorkV2/GetUserInfo",{userId:A.uid})},function(F){if(!F){var G=JSON.parse(E.responseText);if(G.code===200){G=G.data;A.author=G.nickname;B.image=[A.avatar=G.thumbnail||k.staticSrc("default-avatar.jpg")]}}D()})})}else{B.image=B.image||[A.avatar]}i.concurrency(C,function(){p(B)})},resource:{create:"author/create",createActive:"author/create-active",follow:"author/follow",following:"author/following"},create:function(O,K,A,B){var N=K.data(),P=O.yScale,C=Math.max(14*P<<0,12);function H(S,T){var R=r(j.Image(S,P),O);R.x=t.center(R,O);R.y=T*P;return R}function F(T,U,S){var R=r(j.Label(T,{lineHeight:C,fontSize:C,color:S||"#393939"}),O);R.x=t.center(R,O);R.y=U*P;return R}O.background="white";var J=v.chuye?340/2:194/2;F("作",J,"#989898");F("者",J+20,"#989898");F(N.author,v.chuye?674/2:561/2);var M=144/2*P<<0,D=r(j.Border(j.Cover(K.image(0),{w:M,h:M}),{radius:M/2}),O);D.y=(v.chuye?490/2:381/2)*P;D.x=t.center(D,O);if(!v.chuye){var E=H(A.following,v.chuye?734/2:631/2);if(!o){E.visible=false;var p=H(A.follow,v.chuye?734/2:631/2);s.onTap(p.element,function(){y.follow(N.uid)})}var I=H(A.create,925/2),Q=H(A.createActive,925/2);Q.visible=false;x(I.element,function(){I.visible=false;Q.visible=true},function(){I.visible=true;Q.visible=false},function(){y.downloadFirstPage()});var G=F("举报",1050/2,"#898989"),L=r(j.Rect(50,40),O);L.x=t.center(L,O);L.y=t.middle(L,G);s.onTap(L.element,function(){y.report(K.id)})}if(!B.track){y.track(["Download","View",v.systemName]);B.track=true}}}});e(function(){var n=d["1"],j=d["19"],g=j.Component,m=j.formats,h=d["24"],l=d["38"],k=d["26"],i=d["27"];m.contact={resource:{title:"contact/title",frame:"contact/frame"},create:function(u,o,q){var p=u.yScale/1008*1136;g(h.Cover(o.image(0),u),u);g(h.Rect(u.w,u.h,"rgba(255,255,255,0.5)"),u);var z=g(h.Image(q.title,p),u);z.x=l.center(z,u);z.y=166*p/2;var A=q.frame,y=A.halfWidth*p<<0,r=A.halfHeight*p<<0,w=[];n.foreach([{caption:"联系电话",click:function(B){location.href="tel:"+B}},{caption:"联系邮箱",click:function(B){location.href="mailto:"+B}},{caption:"官方网站",click:function(B){i.jump(B)}},{caption:"微信号"},{caption:"微博",click:function(B){i.jump("http://weibo.com/n/"+B)}}],function(C,E){var D=14*p,G=8*p,H=o.text(E),I=Math.max(p,1);if(H.toString()===""){return}var B=g(h.Rect(y,r),u);B.x=l.center(B,u);g(h.Image(A,p),B);var J=g(h.Label(C.caption+"：",{fontSize:14*I<<0,color:"#FFFFFF"}),B);J.x=D;J.y=l.middle(J,B,true);var F=g(h.BlockText(H,{lineHeight:16*I<<0,fontSize:12*I<<0,color:"#FFFFFF",margin:0,width:y-2*D-G-J.w,breakWord:true}),B);F.x=l.rightTo(F,J)+G;F.y=l.middle(F,B,true);k.onTap(B.element,function(){C.click&&C.click(H.toString())});w.push(B)});var t=143*p,v=315*p,x=w.length,s=(v-r*x)/(x+1)<<0;n.foreach(w,function(C,B){C.y=t+s*(B+1)+r*B})}}});e(function(){var h=d["5"],l=d["0"],n=d["1"],B=d["2"],x=d["19"],v=d["37"],i=d["25"],m=d["24"],t=d["38"],j=d["40"],w=d["14"],A=1136/1008,y=i.layout504,z=j.applySpeed,r=x.Component,q=x.formats;function k(){return h.tuple("rgba",Array.prototype.slice.call(arguments,0))}function s(p){return{ignorePureColor:true,create:function(D,G){var J=D.h/504,F=p.margin,C=p.lineHeight,E=p.fontSize,I;r(m.Cover(G.image(0),D),D);var H=r(m.Rect(D.w,D.h,p.background),D);H.zi=1;do{I=r(m.BlockText(G.text(0),{margin:F*J<<0,lineHeight:Math.max(C*J<<0,16),fontSize:Math.max(E*J<<0,12),color:p.color,width:Math.min(280*Math.max(J,1)<<0,D.w-40)}));F=Math.max(F-1,0);C=Math.max(C-1,0,E+2);if(F<=0||C<=E+2){break}}while(I.h>D.h*0.8);I.appendTo(D);I.x=t.center(I,D);I.y=t.middle(I,D);I.zi=2;I.enter=v.Emerge()}}}q.ImageText04=s({margin:5,lineHeight:25,fontSize:15,color:"#FFFFFF",background:k(0,0,0,0.8)});q.ImageText07=s({margin:5,lineHeight:25,fontSize:14,color:"#333333",background:k(255,255,255,0.85)});function u(p,D,C){z(n.map(p,function(I,F){var H=D[F],G=m.Cover(I,{w:Math.ceil(H.width*C.xScale)+1,h:Math.ceil(H.height*C.yScale)+1}),E=r(G,C);E.x=H.x*C.xScale;E.y=H.y*C.yScale;E.enter=H.enter;return E}),1,1)}q.MutipleImage02={resource:B.extend({shadow:"mi02-shadow.png"},!w.android?{grad:"mi02-grad.svg"}:{}),create:function(p,D,C){u(D.image(),[{x:25,y:16*A,width:280,height:157*A,enter:v.FlyInto(3)},{x:25,y:173*A,width:280,height:157*A,enter:v.FlyInto(1)},{x:25,y:330*A,width:280,height:157*A,enter:v.FlyInto(3)}],p);r(m.Image(C.shadow,p),p);C.grad&&r(m.Image(C.grad,p),p)}};q.MutipleImage03={resource:{frame:"mi03-frame.png"},create:function(p,D,C){u(D.image(),[{x:15,y:15*A,width:290,height:231*A,enter:v.FlyInto(0)},{x:15,y:250*A,width:143,height:239*A,enter:v.FlyInto(3)},{x:162,y:250*A,width:143,height:239*A,enter:v.FlyInto(1)}],p);r(m.Image(C.frame,p),p)}};function o(p){return{ignorePureColor:true,create:function(I,D){var G=D.color||"#FFFFFF",F=I.yScale/1008*1136,O=[27,16,10],C=[22,57,88],K=115*F<<0,M,J,N,E=[];switch(p){case"top":M=0;J=K;N=I.h;break;case"middle":M=I.h*0.6<<0;J=0;N=I.h;break;case"bottom":J=0;M=N=I.h-K;break}var H=r(m.Cover(D.image(0),{w:I.w,h:N-J}),I);H.y=J;var L=r(m.Rect(I.w,K,G),I);L.y=M;l.loop(3,function(Q){if(D.text(Q).toString()){var P=O[Q]*F<<0,R=r(m.Label(D.text(Q),{fontSize:P,color:G.toUpperCase()==="#FFFFFF"?"#000000":"#FFFFFF"}),L);R.x=t.center(R,I);R.y=C[Q]*F<<0;R.enter=v.Emerge();R.zi=2;E.push(R)}});z(E,1,1)}}}q.ImageText01=o("top");q.ImageText02=o("bottom");q.ImageText03=o("middle");q.ImageText05={ignorePureColor:true,create:function(D,E){var p=y(D,E.image(0)),G=p.scale;var F=r(m.BlockText(E.text(0),{width:157*G<<0,lineHeight:30*G<<0,fontSize:22*G<<0,color:"#FFFFFF",breakWord:true}),D);var C=r(m.Rect(F.w+17*G*2<<0,Math.max(F.h+20*G,60*G)<<0,k(0,0,0,0.85)),D);C.x=t.rightIn(C,D);C.y=t.middle(C,D);F.x=t.center(F,C,true);F.y=t.middle(F,C,true);F.appendTo(C)}};q.ImageText06={ignorePureColor:true,create:function(E,F){var p=y(E,F.image(0)),C=p.scale;var D=r(m.Rect(250*C,350*C,k(0,0,0,0.85)),E);D.x=t.center(D,E);D.y=t.middle(D,E);z(n.map([35,132,229],function(I,G){var H=r(m.BlockText(F.text(G),{width:D.w-2*17*C,lineHeight:25*C<<0,fontSize:14*C<<0,color:"#FFFFFF",breakWord:true}),D);H.y=I*C<<0;H.x=t.center(H,D,true);H.enter=v.FlyInto(1);return H}),1,0.3)}};q.ImageText08={create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=t.center(E,C);E.y=p.y(354);E.enter=v.Emerge()}};q.ImageText09={create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=t.center(E,C);E.y=p.y(289);E.enter=v.Emerge()}};q.ImageText10={create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=p.x(25);E.y=p.y(155);E.enter=v.Emerge()}};q.ImageText11={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D);E.x=t.center(E,D);E.y=p.y(189);C.x=t.center(C,D);C.y=t.bottomTo(C,E)+15*p.scale;E.enter=C.enter=v.Emerge();z([E,C],1,1)}};q.ImageText12={resource:{mask:"im12-mask.png",mayun:"im12-mayun.jpg"},create:function(E,G,F){var I=E.yScale;var C=r(m.Cover(F.mayun,{w:E.w/2,h:818/2*I}),E),D=r(m.Cover(G.image(0),C),E);D.x=E.w/2;var p=r(m.Cover(F.mask,{w:E.w,h:200*I}),E);p.y=t.bottomIn(p,E);var H=r(m.Image(G.image(1),I));H.x=t.center(H,p,true);H.y=75*I;H.enter=v.Emerge()}};q.ImageText13={ignorePureColor:true,create:function(D,E){var C=D.yScale;r(m.Cover(E.image(0),D),D);var p=r(m.Rect(D.w,248/2*C<<0,"#FFFFFF"),D);p.y=t.bottomIn(p,D);var F=r(m.Image(E.image(1),C),p);F.x=t.center(F,D);F.y=(766-(1008-248))/2*C<<0;F.enter=v.fadeIn}};q.ImageText14={create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=t.rightIn(E,C)-14*p.scale;E.y=p.y(78);E.enter=v.Emerge()}};q.ImageText15={ignorePureColor:true,create:function(J,D){var F=y(J,D.image(0)),C=F.image(D.image(1)),p=F.image(D.image(2)),E=F.scale;var H=40*E<<0,I=23*E<<0,G=15*E<<0;C.y=H;p.y=t.bottomTo(p,C)+G;var K=r(m.Rect(Math.max(C.w,p.w,246*E)+I*2,p.y+p.h+H,k(255,255,255,0.9)),J);K.x=t.center(K,J);K.y=t.middle(K,J);C.appendTo(K);C.x=I;p.appendTo(K);p.x=t.rightIn(p,K,true)-I;C.enter=p.enter=v.Emerge();z([C,p],1,1)}};q.ImageText16={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D),G=p.scale;E.x=p.x(324/2);E.y=p.y(114/2);C.x=E.x+3*G;C.y=t.bottomTo(C,E)+5*G;E.enter=C.enter=v.fadeIn;z([E,C],1,1)}};q.ImageText17={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D),G=p.scale;E.x=p.x(68/2);E.y=p.y(696/2);C.x=E.x+4*G;C.y=t.bottomTo(C,E)+5*G;E.enter=C.enter=v.fadeIn;z([E,C],1,1)}};function g(p){return{create:function(F,H){var C=y(F,H.image(0)),G=C.image(H.image(1),F),E=C.image(H.image(2),F),D=C.image(H.image(3),F),I=C.scale;G.x=t.center(G,F);E.x=t.center(E,F);D.x=t.center(D,F);G.y=C.y(p/2);E.y=t.bottomTo(E,G)+57/2*I;D.y=t.bottomTo(D,E)+12*I;G.enter=E.enter=D.enter=v.Emerge();z([G,E,D],1,1)}}}q.ImageText18=g(231);q.ImageText19=g(612);q.ImageText20={create:function(E,G){var p=y(E,G.image(0)),H=p.scale,C=27*H<<0,F=r(m.Label(G.text(0),{fontSize:C,fontWeight:"bold",color:"white"}),E),D=r(m.BlockText(G.text(1),{width:E.w-150,fontSize:10*H<<0,lineHeight:20*H<<0,color:"#d2d2d2"}),E);F.x=t.center(F,E);F.y=p.y(191/2);D.x=t.center(D,E);D.y=t.bottomTo(D,F)+26*H;F.enter=D.enter=v.Emerge();z([F,D],1,1)}};q.ImageText21=q.ImageText22={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D),G=p.scale;E.x=p.x(516/2);E.y=p.y(195/2);E.enter=v.Emerge(1);C.x=t.rightIn(C,E);C.y=t.bottomTo(C,E)+5*G;C.enter=v.Emerge(3)}};q.ImageText23={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D),G=p.scale;E.x=p.x(60/2);E.y=p.y(140/2);E.enter=v.Emerge(0);C.x=E.x+2*G;C.y=t.bottomTo(C,E)+5*G;C.enter=v.Emerge(2)}};q.ImageText24={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D),G=p.scale;E.x=p.x(82/2);E.y=p.y(720/2);E.enter=v.Emerge(0);C.x=E.x+2*G;C.y=t.bottomTo(C,E)+5*G;C.enter=v.Emerge(2)}};q.ImageText25={ignorePureColor:true,create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=t.center(E,C);E.y=t.bottomIn(E,C)-40*p.scale;E.enter=v.Emerge(0)}};q.ImageText26={create:function(D,F){var p=y(D,F.image(0)),E=p.image(F.image(1),D),C=p.image(F.image(2),D);E.x=0;E.y=p.y(588/2);C.x=144/2;C.y=t.bottomTo(C,E);E.enter=C.enter=v.Emerge(1);z([E,C],1,1)}};q.ImageText27={create:function(C,D){var p=y(C,D.image(0)),E=p.image(D.image(1),C);E.x=t.center(E,C);E.y=p.y(503/2);E.enter=v.Emerge()}};q.ImageText29={create:function(M,E){var I=y(M,E.image(0)),O=I.scale,D=45*O<<0;var J=[];if(E.image()&&E.image().length>1){for(var L=1;L<E.image().length;L++){var p=E.kahn1990_imageInfo(L),G=null;var F=(p.kahn1990_scaling_100&&p.kahn1990_scaling_100==true)?M.w*2*(p.kahn1990_scaling_baifenbi?p.kahn1990_scaling_baifenbi:1)/E.image(L).width:p.kahn1990_scaling;G=r(m.Image(E.image(L),F),M);E.kahn1990_imageInfo(L);if(p.kahn1990_right&&p.kahn1990_right==true){G.x=t.rightIn(G,M)}else{if(p.kahn1990_left&&p.kahn1990_left==true){G.x=t.leftIn(G,M)}else{if(p.kahn1990_x){G.x=p.kahn1990_x*M.w}else{G.x=t.center(G,M)}}}if(p.kahn1990_top&&p.kahn1990_top==true){G.y=t.topIn(G,M)}else{if(p.kahn1990_y){G.y=p.kahn1990_y*M.h}else{if(p.kahn1990_bottom&&p.kahn1990_bottom==true){G.y=t.bottomIn(G,M)}}}if(p.kahn1990_fncb){G.enter=p.kahn1990_fncb(v)}else{G.enter=v.Emerge()}if(p.kahn1990_delayIf){G.enter.kahn1990_delay=p.kahn1990_delay;G.enter.kahn1990_delayIf=true}J.push(G)}}if(E.textInfo&&E.textInfo.length>0){for(var L=0;L<E.textInfo.length;L++){var K=null,N=null;if(E.textInfo[L].kahn1990_fontsize){N=E.textInfo[L].kahn1990_fontsize}else{N=D}K=r(m.Label(E.text(L),{fontSize:N,fontFamily:"黑体",color:"#87D397",width:E.textInfo[L].kahn1990_w?E.textInfo[L].kahn1990_w:"false",kahn1990_str_lang:E.textInfo[L].kahn1990_str_lang?E.textInfo[L].kahn1990_str_lang:false}),M);if(E.textInfo[L].kahn1990_right&&E.textInfo[L].kahn1990_right==true){K.x=t.rightIn(K,M)}else{if(E.textInfo[L].kahn1990_left&&E.textInfo[L].kahn1990_left==true){K.x=t.leftIn(K,M)}else{if(E.textInfo[L].kahn1990_x){K.x=E.textInfo[L].kahn1990_x*M.w}else{K.x=t.center(K,M)}}}if(E.textInfo[L].kahn1990_top&&E.textInfo[L].kahn1990_top==true){K.y=t.topIn(K,M)}else{if(E.textInfo[L].kahn1990_y){K.y=E.textInfo[L].kahn1990_y*M.h}else{if(E.textInfo[L].kahn1990_bottom&&E.textInfo[L].kahn1990_bottom==true){K.y=t.bottomIn(K,M)}}}if(E.textInfo[L].kahn1990_fncb){K.enter=E.textInfo[L].kahn1990_fncb(v)}else{K.enter=v.Emerge()}if(E.textInfo[L].kahn1990_delayIf&&(E.textInfo[L].kahn1990_delayIf==true)){K.enter.kahn1990_delay=E.textInfo[L].kahn1990_delay;K.enter.kahn1990_delayIf=true}J.push(K)}}z(J,1,1);J=[]}}});d(function(){var i=d["4"],m=d["1"],l=d["11"],k=d["16"],j=d["8"];var h=function(){return i.Loader(function(n){window.bmapInit=function(){n();delete window.bmapInit};j("script",{src:"http://api.map.baidu.com/api?type=quick&ak=D5a271a3083d77f21c63ff307e9f60b9&v=1.0&callback=bmapInit"},document.head)}).load}();function g(n){h(function(){var o=j("div",{css:{height:"100%",width:"100%"}},n.parent),p=[];j.onInsert(o,function(){var q=new BMap.Map(o);m.foreach(n.data,function(v){var s=new BMap.Point(parseFloat(v.lng),parseFloat(v.lat)),t=new BMap.Marker(s),r=new BMap.Icon(k.staticSrc("map-mark.png"),new BMap.Size(30,30));t.setIcon(r);q.addOverlay(t);p.push(s);if(n.make){var u=new BMap.InfoWindow(n.make(v));t.addEventListener("click",function(){t.openInfoWindow(u)})}});if(p.length!==0){q.centerAndZoom(p[0],16);q.setViewport(p)}else{q.centerAndZoom("北京市")}});n.onLoad&&n.onLoad()})}d["64"].MarkerMap=g});e(function(){var j=d["8"],m=d["6"],q=d["29"],n=d["64"],i=d["10"],l=d["16"],o=d["27"],t=d["19"],h=d["24"],s=d["26"],k=d["25"],g=d["38"],u=t.Component,r=t.formats;m.insertRules({".BMap_Marker img":{width:"100%"}});r.map={resource:{location:"map/location"},create:function(y,B,A){var v=k.layout504(y,B.image(0));var w=v.image(A.location,y);w.x=g.center(w,y);w.y=v.y(574/2);var p=u(h.Label(B.location(0).address,{lineHeight:14*v.scale<<0,fontSize:12*v.scale<<0,color:"#FFFFFF"}),y);p.x=g.center(p,y);p.y=v.y(680/2);y.onShow(function(){i.runAnimation([w.element,{"50":{opacity:0.4}},3,"linear","infinite"])});var x=u(h.Rect(120*v.scale,100*v.scale),y);x.x=g.center(x,y);x.y=v.y((574-20)/2);var z;s.onTap(x.element,function(){if(!z){z=j(o.SlidePage(),{css:{background:"white"}});var C=z.appendChild(j("div",{css:{position:"absolute",left:"10px",top:"10px",width:"143px",height:"38px","background-color":"rgba(0, 0, 0, 0.8)","box-shadow":"0 0 1px 0 rgba(0, 0, 0, 0.6)","z-index":"1000"},children:[j("div",{css:{position:"absolute",width:"49px",left:"0",top:"0",bottom:"0"},children:[j(k.staticCenter(l.Icon("map/back")))]}),j("div",{css:{position:"absolute",left:"49px",width:"1px",top:"0",bottom:"0","background-color":"#000","box-shadow":"1px 0 rgba(113, 113, 113, .75)"}}),j("div",{css:{position:"absolute",left:"50px",right:"0",top:"0",bottom:"0",color:"#e7e7e7","text-align":"center","line-height":"38px","font-size":"16px","letter-spacing":"2px"},innerHTML:"地图"})]})),D=q.Loading(z);s.onTap(C,function(){z.slideOut()});n.MarkerMap({data:B.location(),parent:z,make:function(E){return j("div",[j("div",{css:{"font-size":"16px","font-weight":"bold","line-height":"22px","padding-bottom":"6px",width:"220px"},innerHTML:E.name}),j("div",{css:{"font-size":"12px"},children:[j("div",{css:{display:"inline-block","vertical-align":"top"},innerHTML:"地址:"}),j("div",{css:{display:"inline-block",width:"184px","margin-left":"5px","vertical-align":"top"},innerHTML:E.address})]})])},onLoad:function(){j.remove(D)}})}z.slideIn(y.body)})}}});e(function(){var j=d["0"],n=d["6"],l=d["8"],q=d["19"],r=q.Component,o=q.formats,k=d["24"],i=d["38"],g=d["14"],m=d["16"];function h(p,u,s,t,v){return t*(p+u/2)/s-v/2}o.qrcode={crossOrigin:true,resource:{fingerprint:"qrcode-fingerprint.png",frame:"qrcode-frame.png"},create:function(w,u,v,p){r(k.Cover(u.image(0),w),w);var s=r(k.Rect(554/2,606/2),w);s.x=i.center(s,w);s.y=h(192/2,s.h,568,w.h,s.h);r(k.Image(v.frame,s),s);var y=r(k.Image(u.image(1),1),s);y.x=i.center(y,s,true);y.y=h(32.5,104/2,s.h,s.h,y.h);var t=m.Canvas(486/2,277/2),z=t.context;z.drawImage(u.image(2),0,0,275/2,275/2);z.drawImage(v.fingerprint,166,1,155/2,275/2);var x=r(k.Canvas(t),s);x.x=19;x.y=127;w.onShow(function(){var A=p.img;j.callWith(function(B){if(A){B()}else{A=l("img",{classList:g.android?"need-default":[],css:{position:"absolute","z-index":1000,left:n.px(x.x),top:n.px(x.y),width:n.px(x.w),"padding-bottom":g.android?"0":"64px"}});A.onload=function(){p.img=A;A.onload=null;B()};A.src=t.toDataURL();n.transform(A,"translateZ(100000px)");n(A,"pointer-events","auto")}},function(){n(x.element,"visibility","hidden");s.element.appendChild(A)})})}}});e(function(){var k=d["1"],i=d["2"],h=d["24"],g=d["38"],l=d["37"],n=d["19"],o=n.Component,m=n.formats;function j(p){return{resource:{background:p?"razzies-single.png":"razzies-double.png",bannerLeft:"razzies/banner-left",bannerCenter:"razzies/banner-center",bannerRight:"razzies/banner-right",cup:"razzies-cup.png"},create:function(G,B,r){var H=G.yScale/1008*1136;function s(K,J,L){K.y=L*H;K.x=(J-160)*H+G.w/2;return K}var D=104*H;if(p){s(o(h.Cover(B.image(0),{w:D,h:D}),G),108,41)}else{s(o(h.Cover(B.image(0),{w:D,h:D}),G),56,41);s(o(h.Cover(B.image(1),{w:D,h:D}),G),161,41)}var E=o(h.Image(r.background,H),G);E.x=g.center(E,G);var A=o(h.Label(B.text(0),{fontSize:15*H<<0,color:"#fdf1c8"})),v=o(h.Image(r.bannerLeft,H)),I=o(h.Rect(A.w+50*H<<0,v.h),G),q=o(h.Image(r.bannerRight,H)),y=o(h.Image(r.bannerCenter,{w:I.w-v.w*2+8,h:v.h}));k.foreach([v,q,y,A],function(J){J.appendTo(I)});q.x=g.rightIn(q,I,true);y.x=g.center(y,I,true);A.x=g.center(A,I,true);A.y=(30*H-A.h)/2<<0;I.x=g.center(I,G);I.y=153*H;var C=o(h.BlockText(B.text(1),{width:250*H,lineHeight:20*H<<0,fontSize:12*Math.max(H,1)<<0,color:"#fdf1c9"}),G);C.x=g.center(C,G);C.y=200*H;var u=o(h.Image(r.cup,H)),x=s(o(h.Rect(u.w,u.h),G),132/2,566/2),t=o(h.Rect(85*H,37*H),x);u.appendTo(x);t.zi=1;t.x=g.center(t,x,true)-1;t.y=129*H;var w=B.text(2).toString().split("\n"),F={fontSize:15*H,color:"#40234a"};function z(K,L){var J=o(h.Label(w[K],F),t);J.x=g.center(J,t,true);J.y=L===undefined?g.middle(J,t,true):L}if(w.length===1){z(0)}else{z(0,0);z(1,20*H)}I.enter=l.fallDownAndShake;C.ea=l.Emerge();C.ea.delay=1;x.ea=l.shrink;x.ea.delay=2.3}}}m["razzies-single"]=j(true);m["razzies-double"]=j(false)});e(function(){var p=d["1"],m=d["8"],o=d["6"],j=d["10"],k=d["32"],g=d["11"],q=d["29"],l=d["23"],t=d["19"],u=t.Component,s=t.formats,i=d["24"],h=d["14"],r=d["26"],n=d["16"];s["scratch-card"]={crossOrigin:true,create:function(C,y,w){var F=l.cover504(C),B=C.w,v=C.h,E=y.image(0),A=y.image(1),x=n.Canvas(B,v);function D(I){return l({s:{w:I.fullWidth,h:I.fullHeight},d:C,scale:l.scale.cover})}l.drawImage(x.context,E,D(E));u(i.Canvas(x),C);if(!w.complete){var z=D(A),G=n.Canvas(B,v),H=G.context;l.drawImage(H,A,z);u(i.Canvas(G),C);C.onShow(function(){var K=q.Scratch(C.element),L=q.hide();m(G,{css:{position:"absolute",left:0,top:0,"z-index":1000,transform:"translateZ(10001px)"}},C.element);var J=[],I=r.onSwipeStart(G,function(N){var M=[],P=true;J.push(M);r.preventDrag=true;M.push({x:N.x,y:N.y});g.onMoveUp({onMove:function(Q){m.remove(K);M.push({x:Q.x,y:Q.y})},onUp:function(){P=false}});var O=k.requestFrame(function(){l.drawImage(H,A,z);H.save();H.lineCap="round";H.lineJoin="round";H.globalCompositeOperation="destination-out";H.beginPath();p.foreach(J,function(X){p.foreach(X,function(Y,Z){Z===0?H.moveTo(Y.x,Y.y):H.lineTo(Y.x,Y.y)});H.lineWidth=50*F.scale;if(h.android){G.style.display="none";G.offsetHeight;G.style.display="inherit"}H.stroke()});H.restore();if(!P){var R=false;O.remove();try{var V=H.getImageData(0,0,G.width,G.height),W=V.data,T=0;for(var S=0,Q=W.length;S<Q;S+=4){if(W[S+3]<128){++T}}}catch(U){R=true}if(R||T/(W.length/4)>0.3){I.remove();j.runAnimation([G,{100:{opacity:0}},0.8],function(){L.remove();w.complete=true;m.remove(G)})}}})});C.onRemove(function(){L.remove();m.remove(K)})})}}}});d(function(){var h=d["2"],g=JSON.parse(localStorage.getItem("cookie")||"{}");h.foreach(g,function(j,k){if(k.expires<new Date()){delete g[j]}});function i(){localStorage.setItem("cookie",JSON.stringify(g))}i();d["65"]={getItem:function(j){return g[j]?g[j].value:null},setItem:function(j,l,k){g[j]={value:l,expires:(new Date()).getTime()+k*1000};i()}}});e(function(){var t=d["1"],i=d["8"],l=d["4"],K=d["2"],C=d["11"],w=d["6"],y=d["13"],r=d["9"],J=d["65"],o=d["16"],H=d["27"],q=d["42"],g=d["29"],E=d["14"],A=d["26"],h=d["25"],G=d["19"],m=d["24"],B=d["38"],z=G.Component,x=G.formats,D=r(location.href),n=null,v={},s,k;function I(p){return y({method:"post",url:r.concatArg("http://c.cloud7.com.cn"+p.url,s?{_token:s}:{}),data:K.is.String(p.data)?p.data:r.encodeObject(p.data),headers:K.extend({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},p.headers||{})},function(L,N){var M=JSON.parse(N.responseText);if(M.code===302){p.on302&&p.on302(M.data)}else{p.success(M.data)}})}if(!E.MicroMessenger){v.canNotLogin=function(){alert("请在微信中使用")};v.isLogIn=function(){return false}}else{if(s=D.arg._token){J.setItem("token",s,7*24*60*60);k=function(p){if(n){p(n)}else{I({url:"/api/Wechat/CurrentUser",success:function(L){p(n=L)}})}};v.isLogIn=function(){return true}}else{s=J.getItem("token");k=function(p){p(n)};v.isLogIn=function(){return n!==null};if(s){var u=null,j=null;I({url:"/api/Wechat/CurrentUser",on302:function(p){u&&u(p);v.logIn=function(){I({url:"/api/Wechat/CurrentUser",on302:H.jump})}},success:function(p){n=p;j&&j()}});v.logIn=function(p){if(n){p.onLogIn()}else{u=H.jump;j=p.onLogIn}}}else{v.logIn=function(){location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx9d492ee399e6a24c&redirect_uri="+encodeURIComponent("http://c.cloud7.com.cn/Auth?returnUrl="+encodeURIComponent(location.href))+"&response_type=code&scope=snsapi_base&state=#wechat_redirect"}}}}x["Sign-Up02"]={create:function(O,P){var L=h.layout504(O,P.image(0)),N={top:148,middle:417,bottom:687},p=125*L.scale<<0;var M=z(m.Rect(p,p),O);M.x=B.center(M,O);M.y=L.y(N[P.position(0)]/2);A.onTap(M.element,function(){H.jump(P.actionlinks(0))})}};var F=H.registLoginPage("sign-up",v,function(Q,p){var S=p.template,L=i("div",{css:{padding:"0 25px"},children:[i("div",{css:{color:"#99a2a7","font-size":"12px","line-height":"12px","margin-top":"27px"},innerHTML:"'请您填写报名表单，谢谢您的参与！'"})]},Q),N=i("form",{action:"/"},L),O=null,R=null,M=[],T={};i(o.Icon("signup/close"),{css:{position:"absolute",right:"7px",top:"7px"}},Q);A.onTap(i("div",{css:{position:"absolute",right:0,top:0,width:"50px",height:"50px"}},Q),function(){Q.slideOut()});w(Q,{background:"rgba(255, 255, 255, 0.96)"});Q.classList.add("scroll");Q.classList.add("need-default");function P(){var X=[],Y=[];O&&O.blur();function W(ab,ac){X.push({name:ab.name,label:ab.label,value:ac})}var aa=[];t.foreach(M,function(ab){var ac=ab.input.value;if(ab.data.required){if(ac===""){Y.push(ab.data.label);ab.input.toState("error")}else{var ad=ab.validate?ab.validate(ac):null;if(ad){aa.push(ad);ab.input.toState("error")}else{W(ab.data,ac);ab.input.toState("normal")}}}else{W(ab.data,ab.input.value)}});if(Y.length!==0||aa.length!==0){alert((Y.length?[Y.join("，")+"不能为空。"]:[]).concat(aa).join("<br>"))}else{var V=[],Z=g.Loading(Q),U={};A.Lock(L);if(v.isLogIn()){V.push(function(ab){k(function(ac){U=ac;ab()})})}l.concurrency(V,function(){var ab={"报名时间":new Date().getTime(),"微信昵称":U.NickName,"微信头像":U.HeadPhoto,"微信性别":U.Sex,"微信City":U.City,"微信Province":U.Province,"微信Country":U.Country};K.foreach(T,function(ac,ad){W(ad,ab[ac]===undefined?"":ab[ac])});y({url:virtualPath+"/Integra/SaveData",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r.encodeObject({formid:p.formId,data:JSON.stringify(X)})},function(){i.remove(Z);alert(S.data.submitComplete.value);setTimeout(function(){if(Q.isIn){Q.slideOut()}},1000)})})}}i.bind(N,"submit",function(U){U.preventDefault()});t.foreach(S.data.component,function(U){if(U.enable){if(U.visiable){switch(U.name){case"textbox":(function(){var Y={},X=i("label",{css:{position:"relative","margin-bottom":"13px","margin-top":N.firstElementChild?"13px":"21px",display:"block"}},N),W=Y.caption=i("div",{css:{"font-size":"15px","line-height":"15px",color:"#4f5356"},innerHTML:U.label+"："},X),V=Y.input=i.State(i("input",{css:{height:"39px","margin-top":"6px","font-size":"15px","line-height":"37px",width:"100%",padding:"0 9px","box-sizing":"border-box",background:"transparent"},placeholder:U.placeholder,name:U.id},X),{normal:{border:"1px solid #4f5356"},error:{border:"1px solid #FC7A89"}},"normal");switch(U.label){case"电话":V.type="tel";break;case"邮箱":V.type="email";Y.validate=function(Z){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(Z)?null:"请输入正确的邮箱地址"};break}i.bind(V,"focus",function(){O=V});if(U.required){i(o.Icon("signup/star"),{css:{display:"inline-block",width:"5px",height:"5px","vertical-align":"top"}},W)}if(R){i.bind(R,"keypress",function(Z){if(Z.keyCode===13){V.focus()}})}R=V;Y.data=U;M.push(Y)})();break;case"btn":A.onTap(i("div",{css:{width:"115px",height:"38px","line-height":"38px","font-size":"15px",margin:"0 auto",background:"#FA6143",color:"white","text-align":"center","border-radius":"3px"},innerHTML:U.value},i("div",{css:{margin:"21px 0 13px 0"}},N)),P);break}}else{T[U.label]=U}}});if(R){i.bind(R,"keypress",function(U){if(U.keyCode===13){P()}})}});x["Sign-Up03"]={create:function(M,N){var p=h.layout504(M,N.image(0)),O=K.extend(N.signup,{}),L=p.image(N.image(1),M);L.x=B.center(L,M);L.y=p.y(208);O.template=JSON.parse(O.template);A.onTap(L.element,function(){F({data:O,noLog:!O.template.allowAnymous,parent:M.body})})}}});e(function(){var k=d["8"],n=d["6"],g=d["11"],j=d["10"],q=d["29"],m=d["16"],o=d["27"],t=d["19"],i=d["24"],s=d["26"],l=d["25"],h=d["38"],u=t.Component,r=t.formats;r.video={resource:{play:"video/play"},create:function(w,y,x){var p=l.layout504(w,y.image(0)),A=y.video(0),v=p.image(x.play,w),z=u(i.Circle(v.w/2,"#FFFFFF"),w);z.x=v.x=h.center(v,w);z.y=v.y=v.y=p.y(436/2);z.visible=false;v.zi=1;w.onShow(function(){z.visible=true;j.runAnimation([z.element,{0:{opacity:0.8},100:{transform:n.scale(2),opacity:0}},2.5,"infinite"])});w.onRemove(function(){z.visible=false});s.onTap(v.element,function(){var C,B;if(B=k("div",A).querySelector("iframe")){C=k(o.SlidePage(),{css:{background:"black"}});C.onSlideIn(window.stopAudio);C.onSlideOut(window.playAudio);B.width=w.w;B.height=w.w/16*9<<0;n(B,{position:"absolute",left:0,top:n.px((w.h-B.height)/2<<0)});var D=q.Loading(C);B.onload=function(){k.remove(D);B.onload=null};C.appendChild(B);s.onTap(k("div",{css:{position:"absolute",right:"0",top:"0",width:"60px",height:"60px"},children:[l.staticCenter(m.Icon("video/close"))]},C),function(){C.slideOut()})}if(C){C.slideIn(w.body)}else{if(/(^http:\/\/)|(^https:\/\/)/.test(A)){o.jump(A)}else{s.alert("未识别的视频地址")}}})}}});b(function(){d["42"]()})})();