_.are3d=_.bind(function(){var d=this;var b={eye:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},translate:function(f,h,g){return[1,0,0,0,0,1,0,0,0,0,1,0,f,h,g,1]},scale:function(f,h,g){return[f,0,0,0,0,h,0,0,0,0,g,0,0,0,0,1]},rotateX:function(f){return[1,0,0,0,0,Math.cos(f),Math.sin(f),0,0,-Math.sin(f),Math.cos(f),0,0,0,0,1]},rotateY:function(f){return[Math.cos(f),0,-Math.sin(f),0,0,1,0,0,Math.sin(f),0,Math.cos(f),0,0,0,0,1]},rotateZ:function(f){return[Math.cos(f),Math.sin(f),0,0,-Math.sin(f),Math.cos(f),0,0,0,0,1,0,0,0,0,1]},rotate:function(h,g){var f=h[0],m=h[1],l=h[2],j=Math.sqrt(f*f+m*m+l*l),i=Math.sin(g),k=Math.cos(g);f/=j;m/=j;l/=j;return[1+(1-k)*(f*f-1),l*i+f*m*(1-k),-m*i+f*l*(1-k),0,-l*i+f*m*(1-k),1+(1-k)*(m*m-1),f*i+m*l*(1-k),0,m*i+f*l*(1-k),-f*i+m*l*(1-k),1+(1-k)*(l*l-1),0,0,0,0,1]},perspective:function(f){return[1,0,0,0,0,1,0,0,0,0,1,-1/f,0,0,0,1]}};function e(){return _.reduce(arguments,d.mul)}function a(g,f,i,h){return e(b.translate(f,i,h),g,b.translate(-f,-i,-h))}function c(f,g){return _.map(_.range(4),function(h){return f[h]*g[0]+f[h+4]*g[1]+f[h+8]*g[2]+f[h+12]*g[3]})}return{matrix:b,combine:e,origin:a,transform:c}},{mul:function(e,d){for(var h=0,c=[];h<4;++h){for(var g=0;g<4;++g){c[h*4+g]=0;for(var f=0;f<4;++f){c[h*4+g]+=d[h*4+f]*e[f*4+g]}}}return c}})();